function array_merge(){var a,b=Array.prototype.slice.call(arguments),c=b.length,d={},e="",f=0,g=0,h=0,i=0,j=Object.prototype.toString,k=!0;for(h=0;h<c;h++)if("[object Array]"!==j.call(b[h])){k=!1;break}if(k){for(k=[],h=0;h<c;h++)k=k.concat(b[h]);return k}for(h=0,i=0;h<c;h++)if(a=b[h],"[object Array]"===j.call(a))for(g=0,f=a.length;g<f;g++)d[i++]=a[g];else for(e in a)a.hasOwnProperty(e)&&(parseInt(e,10)+""===e?d[i++]=a[e]:d[e]=a[e]);return d}function IsJsonString(a){try{JSON.parse(a)}catch(a){return!1}return!0}function renderTemplate(a,b){if("undefined"==typeof window.tmpl_cache&&(window.tmpl_cache={}),"undefined"==typeof _,"undefined"==typeof window.tmpl_cache[a]){var c;$.ajax({url:"templates/"+a,dataType:"html",method:"GET",async:!1,success:function(a){c=a}}),window.tmpl_cache[a]=_.template(c)}return window.tmpl_cache[a](b)}!function(a,b,c){function d(){return!!b.cookie}function e(){w(A.testName,"fail"),a.location.reload()}function f(){w(A.testName,"pass"),a.location.reload()}function g(){y(A.testName),a.location.reload()}function h(){C=b.createElement("body"),H.insertBefore(C,H.firstChild),B=C}function i(){H.removeChild(C),B=b.body}function j(){var a=x(A.testName);if(a)"pass"===a?(n(),A.onPass()):(A.onFail(),m()),A.appendToggleLink&&k(function(){l(a)});else{var b=!0;h();for(var c in A.tests)if(b=A.tests[c](),!b){A.alertOnFailure&&alert(c+" failed");break}i(),a=b?"pass":"fail",w(A.testName,a),b?(n(),A.onPass()):(A.onFail(),m()),A.appendToggleLink&&k(function(){l(a)})}}function k(b){if(D)b();else{var c=a.onload;a.onload=function(){c&&c(),b()}}}function l(a){if(A.appendToggleLink&&enhance.cookiesSupported&&a){var c=b.createElement("a");c.href="#",c.className=A.testName+"_toggleResult",c.innerHTML="pass"===a?A.forceFailText:A.forcePassText,c.onclick="pass"===a?enhance.forceFail:enhance.forcePass,b.getElementsByTagName("body")[0].appendChild(c)}}function m(){H.className=H.className.replace(A.testName,"")}function n(){I=!0,A.loadStyles.length&&r(),A.loadScripts.length?s():A.onScriptsLoaded()}function o(b,c){x(F)&&x(G)?(y(F),y(G)):(w(F,b),w(G,c)),a.location.reload()}function p(a){return 2==J.length&&(a==J[0]?a=J[1]:a==J[1]&&(a=J[0])),a}function q(){var a=A.testName+"-incomplete";H.className.indexOf(a)===-1&&(H.className+=" "+a)}function r(){for(var a,c=-1;a=A.loadStyles[++c];){var d=b.createElement("link");if(d.type="text/css",d.rel="stylesheet",d.onerror=A.onLoadError,"string"==typeof a)d.href=a,E.appendChild(d);else{a.media&&(a.media=p(a.media)),a.excludemedia&&(a.excludemedia=p(a.excludemedia));for(var e in a)"iecondition"!==e&&"excludemedia"!==e&&d.setAttribute(e,a[e]);var f=!0;a.media&&"print"!==a.media&&"projection"!==a.media&&"speech"!==a.media&&"aural"!==a.media&&"braille"!==a.media&&(f=L(a.media)),a.excludemedia&&(f=!L(a.excludemedia)),a.iecondition&&(f=K(a.iecondition)),f&&E.appendChild(d)}}}function s(){A.queueLoading?t():u()}function t(){function a(){if(0===b.length)return!1;var c=b.shift(),d=v(c),e=!1;return d?(d.onload=d.onreadystatechange=function(){e||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(e=!0,a()===!1&&A.onScriptsLoaded(),this.onload=this.onreadystatechange=null)},void E.appendChild(d)):a()}var b=[].concat(A.loadScripts);a()}function u(){for(var a,b=-1;a=A.loadScripts[++b];){var c=v(a);c&&E.appendChild(c)}A.onScriptsLoaded()}function v(a){var c=b.createElement("script");if(c.type="text/javascript",c.onerror=A.onLoadError,"string"==typeof a)return c.src=a,c;a.media&&(a.media=p(a.media)),a.excludemedia&&(a.excludemedia=p(a.excludemedia));for(var d in a)"iecondition"!==d&&"media"!==d&&"excludemedia"!==d&&c.setAttribute(d,a[d]);var e=!0;return a.media&&(e=L(a.media)),a.excludemedia&&(e=!L(a.excludemedia)),a.iecondition&&(e=K(a.iecondition)),!!e&&c}function w(a,c,d){d=d||90;var e=new Date;e.setTime(e.getTime()+24*d*60*60*1e3);var f="; expires="+e.toGMTString();b.cookie=a+"="+c+f+"; path=/"}function x(a){for(var c=a+"=",d=b.cookie.split(";"),e=0;e<d.length;e++){for(var f=d[e];" "==f.charAt(0);)f=f.substring(1,f.length);if(0==f.indexOf(c))return f.substring(c.length,f.length)}return null}function y(a){w(a,"",-1)}function z(){null==b.readyState&&b.addEventListener&&(b.addEventListener("DOMContentLoaded",function a(){b.removeEventListener("DOMContentLoaded",a,!1),b.readyState="complete"},!1),b.readyState="loading")}var A,B,C,D,E,F,G,H=b.documentElement,I=!1,J=[];E=b.getElementsByTagName?b.getElementsByTagName("head")[0]||H:H,a.enhance=function(a){a=a||{},A={};for(var b in enhance.defaultSettings){var d=a[b];A[b]=d!==c?d:enhance.defaultSettings[b]}for(var e in a.addTests)A.tests[e]=a.addTests[e];H.className.indexOf(A.testName)===-1&&(H.className+=" "+A.testName),F=A.testName+"-toggledmediaA",G=A.testName+"-toggledmediaB",J=[x(F),x(G)],setTimeout(function(){I||m()},3e3),j(),z(),k(function(){D=!0})},enhance.defaultTests={getById:function(){return!!b.getElementById},getByTagName:function(){return!!b.getElementsByTagName},createEl:function(){return!!b.createElement},boxmodel:function(){var a=b.createElement("div");a.style.cssText="width: 1px; padding: 1px;",B.appendChild(a);var c=a.offsetWidth;return B.removeChild(a),3===c},position:function(){var a=b.createElement("div");a.style.cssText="position: absolute; left: 10px;",B.appendChild(a);var c=a.offsetLeft;return B.removeChild(a),10===c},floatClear:function(){var a=!1,c=b.createElement("div"),d='style="width: 5px; height: 5px; float: left;"';c.innerHTML="<div "+d+"></div><div "+d+"></div>",B.appendChild(c);var e=c.childNodes,f=e[0].offsetTop,g=e[1],h=g.offsetTop;return f===h&&(g.style.clear="left",h=g.offsetTop,f!==h&&(a=!0)),B.removeChild(c),a},heightOverflow:function(){var a=b.createElement("div");a.innerHTML='<div style="height: 10px;"></div>',a.style.cssText="overflow: hidden; height: 0;",B.appendChild(a);var c=a.offsetHeight;return B.removeChild(a),0===c},ajax:function(){for(var a,b=!1,c=-1,d=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];a=d[++c];){try{b=a()}catch(a){continue}break}return!!b},resize:function(){return 0!=a.onresize},print:function(){return!!a.print}},enhance.defaultSettings={testName:"enhanced",loadScripts:[],loadStyles:[],queueLoading:!0,appendToggleLink:!0,forcePassText:"View high-bandwidth version",forceFailText:"View low-bandwidth version",tests:enhance.defaultTests,addTests:{},alertOnFailure:!1,onPass:function(){},onFail:function(){},onLoadError:q,onScriptsLoaded:function(){}},enhance.cookiesSupported=d(),enhance.cookiesSupported&&(enhance.forceFail=e),enhance.cookiesSupported&&(enhance.forcePass=f),enhance.cookiesSupported&&(enhance.reTest=g),enhance.toggleMedia=o;var K=function(){return function(a){return!1}}(),L=function(){var a={},d=b.createElement("div");return d.setAttribute("id","ejs-qtest"),function(e){if(a[e]===c){h();var f=b.createElement("style");f.type="text/css";var g="@media "+e+" { #ejs-qtest { position: absolute; width: 10px; } }";f.styleSheet?f.styleSheet.cssText=g:f.appendChild(b.createTextNode(g)),E.appendChild(f),B.appendChild(d);var j=d.offsetWidth;B.removeChild(d),E.removeChild(f),i(),a[e]=10==j}return a[e]}}();enhance.mediaquery=L}(window,document),function(){function a(){var a=!1;if("localStorage"in window)try{window.localStorage.setItem("_tmptest","tmpval"),a=!0,window.localStorage.removeItem("_tmptest")}catch(a){}if(a)try{window.localStorage&&(v=window.localStorage,y="localStorage",B=v.jStorage_update)}catch(a){}else if("globalStorage"in window)try{window.globalStorage&&(v="localhost"==window.location.hostname?window.globalStorage["localhost.localdomain"]:window.globalStorage[window.location.hostname],y="globalStorage",B=v.jStorage_update)}catch(a){}else{if(w=document.createElement("link"),!w.addBehavior)return void(w=null);w.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(w);try{w.load("jStorage")}catch(a){w.setAttribute("jStorage","{}"),w.save("jStorage"),w.load("jStorage")}var b="{}";try{b=w.getAttribute("jStorage")}catch(a){}try{B=w.getAttribute("jStorage_update")}catch(a){}v.jStorage=b,y="userDataBehavior"}h(),k(),c(),l(),"addEventListener"in window&&window.addEventListener("pageshow",function(a){a.persisted&&d()},!1)}function b(){var a="{}";if("userDataBehavior"==y){w.load("jStorage");try{a=w.getAttribute("jStorage")}catch(a){}try{B=w.getAttribute("jStorage_update")}catch(a){}v.jStorage=a}h(),k(),l()}function c(){"localStorage"==y||"globalStorage"==y?"addEventListener"in window?window.addEventListener("storage",d,!1):document.attachEvent("onstorage",d):"userDataBehavior"==y&&setInterval(d,1e3)}function d(){var a;clearTimeout(A),A=setTimeout(function(){if("localStorage"==y||"globalStorage"==y)a=v.jStorage_update;else if("userDataBehavior"==y){w.load("jStorage");try{a=w.getAttribute("jStorage_update")}catch(a){}}a&&a!=B&&(B=a,e())},25)}function e(){var a,c=s.parse(s.stringify(u.__jstorage_meta.CRC32));b(),a=s.parse(s.stringify(u.__jstorage_meta.CRC32));var d,e=[],g=[];for(d in c)if(c.hasOwnProperty(d)){if(!a[d]){g.push(d);continue}c[d]!=a[d]&&"2."==String(c[d]).substr(0,2)&&e.push(d)}for(d in a)a.hasOwnProperty(d)&&(c[d]||e.push(d));f(e,"updated"),f(g,"deleted")}function f(a,b){if(a=[].concat(a||[]),"flushed"==b){a=[];for(var c in z)z.hasOwnProperty(c)&&a.push(c);b="deleted"}for(var d=0,e=a.length;d<e;d++){if(z[a[d]])for(var f=0,g=z[a[d]].length;f<g;f++)z[a[d]][f](a[d],b);if(z["*"])for(var f=0,g=z["*"].length;f<g;f++)z["*"][f](a[d],b)}}function g(){var a=(+new Date).toString();if("localStorage"==y||"globalStorage"==y)try{v.jStorage_update=a}catch(a){y=!1}else"userDataBehavior"==y&&(w.setAttribute("jStorage_update",a),w.save("jStorage"));d()}function h(){if(v.jStorage)try{u=s.parse(String(v.jStorage))}catch(a){v.jStorage="{}"}else v.jStorage="{}";x=v.jStorage?String(v.jStorage).length:0,u.__jstorage_meta||(u.__jstorage_meta={}),u.__jstorage_meta.CRC32||(u.__jstorage_meta.CRC32={})}function i(){n();try{v.jStorage=s.stringify(u),w&&(w.setAttribute("jStorage",v.jStorage),w.save("jStorage")),x=v.jStorage?String(v.jStorage).length:0}catch(a){}}function j(a){if(!a||"string"!=typeof a&&"number"!=typeof a)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==a)throw new TypeError("Reserved key name");return!0}function k(){var a,b,c,d,e=1/0,h=!1,j=[];if(clearTimeout(t),u.__jstorage_meta&&"object"==typeof u.__jstorage_meta.TTL){a=+new Date,c=u.__jstorage_meta.TTL,d=u.__jstorage_meta.CRC32;for(b in c)c.hasOwnProperty(b)&&(c[b]<=a?(delete c[b],delete d[b],delete u[b],h=!0,j.push(b)):c[b]<e&&(e=c[b]));e!=1/0&&(t=setTimeout(k,e-a)),h&&(i(),g(),f(j,"deleted"))}}function l(){var a,b;if(u.__jstorage_meta.PubSub){var c,d=D;for(a=b=u.__jstorage_meta.PubSub.length-1;a>=0;a--)c=u.__jstorage_meta.PubSub[a],c[0]>D&&(d=c[0],m(c[1],c[2]));D=d}}function m(a,b){if(C[a])for(var c=0,d=C[a].length;c<d;c++)try{C[a][c](a,s.parse(s.stringify(b)))}catch(a){}}function n(){if(u.__jstorage_meta.PubSub){for(var a=+new Date-2e3,b=0,c=u.__jstorage_meta.PubSub.length;b<c;b++)if(u.__jstorage_meta.PubSub[b][0]<=a){u.__jstorage_meta.PubSub.splice(b,u.__jstorage_meta.PubSub.length-b);break}u.__jstorage_meta.PubSub.length||delete u.__jstorage_meta.PubSub}}function o(a,b){u.__jstorage_meta||(u.__jstorage_meta={}),u.__jstorage_meta.PubSub||(u.__jstorage_meta.PubSub=[]),u.__jstorage_meta.PubSub.unshift([+new Date,a,b]),i(),g()}function p(a,b){for(var c,d=a.length,e=b^d,f=0;d>=4;)c=255&a.charCodeAt(f)|(255&a.charCodeAt(++f))<<8|(255&a.charCodeAt(++f))<<16|(255&a.charCodeAt(++f))<<24,c=1540483477*(65535&c)+((1540483477*(c>>>16)&65535)<<16),c^=c>>>24,c=1540483477*(65535&c)+((1540483477*(c>>>16)&65535)<<16),e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16)^c,d-=4,++f;switch(d){case 3:e^=(255&a.charCodeAt(f+2))<<16;case 2:e^=(255&a.charCodeAt(f+1))<<8;case 1:e^=255&a.charCodeAt(f),e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16)}return e^=e>>>13,e=1540483477*(65535&e)+((1540483477*(e>>>16)&65535)<<16),e^=e>>>15,e>>>0}var q="0.4.5",r=window.jQuery||window.$||(window.$={}),s={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(a){return String(a).evalJSON()}||r.parseJSON||r.evalJSON,stringify:Object.toJSON||window.JSON&&(window.JSON.stringify||window.JSON.encode)||r.toJSON};if(!("parse"in s&&"stringify"in s))throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var t,u={__jstorage_meta:{CRC32:{}}},v={jStorage:"{}"},w=null,x=0,y=!1,z={},A=!1,B=0,C={},D=+new Date,E={isXML:function(a){var b=(a?a.ownerDocument||a:0).documentElement;return!!b&&"HTML"!==b.nodeName},encode:function(a){if(!this.isXML(a))return!1;try{return(new XMLSerializer).serializeToString(a)}catch(b){try{return a.xml}catch(a){}}return!1},decode:function(a){var b,c="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(a){var b=new ActiveXObject("Microsoft.XMLDOM");return b.async="false",b.loadXML(a),b};return!!c&&(b=c.call("DOMParser"in window&&new DOMParser||window,a,"text/xml"),!!this.isXML(b)&&b)}};r.jStorage={version:q,set:function(a,b,c){if(j(a),c=c||{},"undefined"==typeof b)return this.deleteKey(a),b;if(E.isXML(b))b={_is_xml:!0,xml:E.encode(b)};else{if("function"==typeof b)return;b&&"object"==typeof b&&(b=s.parse(s.stringify(b)))}return u[a]=b,u.__jstorage_meta.CRC32[a]="2."+p(s.stringify(b),2538058380),this.setTTL(a,c.TTL||0),f(a,"updated"),b},get:function(a,b){return j(a),a in u?u[a]&&"object"==typeof u[a]&&u[a]._is_xml?E.decode(u[a].xml):u[a]:"undefined"==typeof b?null:b},deleteKey:function(a){return j(a),a in u&&(delete u[a],"object"==typeof u.__jstorage_meta.TTL&&a in u.__jstorage_meta.TTL&&delete u.__jstorage_meta.TTL[a],delete u.__jstorage_meta.CRC32[a],i(),g(),f(a,"deleted"),!0)},setTTL:function(a,b){var c=+new Date;return j(a),b=Number(b)||0,a in u&&(u.__jstorage_meta.TTL||(u.__jstorage_meta.TTL={}),b>0?u.__jstorage_meta.TTL[a]=c+b:delete u.__jstorage_meta.TTL[a],i(),k(),g(),!0)},getTTL:function(a){var b,c=+new Date;return j(a),a in u&&u.__jstorage_meta.TTL&&u.__jstorage_meta.TTL[a]?(b=u.__jstorage_meta.TTL[a]-c,b||0):0},flush:function(){return u={__jstorage_meta:{CRC32:{}}},i(),g(),f(null,"flushed"),!0},storageObj:function(){function a(){}return a.prototype=u,new a},index:function(){var a,b=[];for(a in u)u.hasOwnProperty(a)&&"__jstorage_meta"!=a&&b.push(a);return b},storageSize:function(){return x},currentBackend:function(){return y},storageAvailable:function(){return!!y},listenKeyChange:function(a,b){j(a),z[a]||(z[a]=[]),z[a].push(b)},stopListening:function(a,b){if(j(a),z[a]){if(!b)return void delete z[a];for(var c=z[a].length-1;c>=0;c--)z[a][c]==b&&z[a].splice(c,1)}},subscribe:function(a,b){if(a=(a||"").toString(),!a)throw new TypeError("Channel not defined");C[a]||(C[a]=[]),C[a].push(b)},publish:function(a,b){if(a=(a||"").toString(),!a)throw new TypeError("Channel not defined");o(a,b)},reInit:function(){b()}},a()}(),function(a,b){a.fn.avgrund=function(c,d){"object"==typeof c&&(d=c);var e={width:380,height:280,showClose:!1,showCloseText:"",closeByEscape:!0,closeByDocument:!0,holderClass:"",overlayClass:"",enableStackAnimation:!1,onBlurContainer:"",openOnEvent:!0,setEvent:"click",onLoad:!1,onUnload:!1,content:"",footer:""};return d=a.extend(e,d),this.each(function(){function e(a){d.closeByEscape&&27===a.keyCode&&i()}function f(b){d.closeByDocument?a(b.target).is(".avgrund-overlay, .avgrund-close")&&(b.preventDefault(),i()):a(b.target).is(".avgrund-close")&&(b.preventDefault(),i())}function g(){navigator.userAgent.match(/safari/i)&&a(".avgrund-popin, avgrund-overlay").css({"-webkit-transition":"none","-moz-transition":"none","-ms-transition":"none","-o-transition":"none",transition:"none"})}function h(){"function"==typeof d.onLoad&&d.onLoad(j),setTimeout(function(){k.addClass("avgrund-active")},100);var c=a("<div/>").addClass("avgrund-popin "+d.holderClass),h=a("<div/>").css("height",b.innerHeight+"px").addClass("avgrund-overlay "+d.overlayClass),i=a("<div/>").addClass("avgrund-content"),o=a("<div/>").addClass("avgrund-footer"),p=a("<a/>",{href:"#"}).addClass("avgrund-close");i.append(content),c.append(i),n&&c.append(o),k.append(c),k.append(h),g(),c.css({width:l+"px",height:m+"px","margin-left":"-"+(l/2+10)+"px","margin-top":"-"+(m/2+10)+"px"});var q=c.height(),r=c.width();if(i.css({height:q+"px",width:r+"px"}),n){o.append(d.footer);var s=c.height()+o.height();c.height(s)}d.showClose&&(p.append(d.showCloseText),c.append(p)),d.enableStackAnimation&&c.addClass("stack"),k.bind("keyup",e),k.bind("click",f)}function i(){k.unbind("keyup",e),k.unbind("click",f),k.removeClass("avgrund-active"),a(".avgrund-overlay",k).remove(),a(".avgrund-popin").remove(),k.removeClass("avgrund-ready"),"function"==typeof d.onUnload&&d.onUnload(j)}var j=a(this),k=a("body"),l=d.width>640?640:d.width,m=d.height>350?350:d.height,n=d.footer.length>0;if("function"==typeof d.content?content=d.content(j):"string"==typeof c&&""==d.content?content=j.html():content=d.content,k.addClass("avgrund-ready"),""!==d.onBlurContainer&&a(d.onBlurContainer).addClass("avgrund-blur"),d.openOnEvent)if(c&&"string"==typeof c)switch(c){case"show":h();break;case"close":i()}else j.bind(d.setEvent,function(b){b.stopPropagation(),a(b.target).is("a")&&b.preventDefault(),h()});else h()})}}(jQuery,window),function(a){function b(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=0,g=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),g=e,void 0!==c.axis&&c.axis===c.HORIZONTAL_AXIS&&(g=0,f=-1*e),void 0!==c.wheelDeltaY&&(g=c.wheelDeltaY/120),void 0!==c.wheelDeltaX&&(f=-1*c.wheelDeltaX/120),d.unshift(b,e,f,g),(a.event.dispatch||a.event.handle).apply(this,d)}var c=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var d=c.length;d;)a.event.fixHooks[c[--d]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=c.length;a;)this.addEventListener(c[--a],b,!1);else this.onmousewheel=b},teardown:function(){if(this.removeEventListener)for(var a=c.length;a;)this.removeEventListener(c[--a],b,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){var b={wheelSpeed:10,wheelPropagation:!1,minScrollbarLength:null,useBothWheelAxes:!1,useKeyboard:!0};a.fn.perfectScrollbar=function(c,d){return this.each(function(){var e=a.extend(!0,{},b),f=a(this);if("object"==typeof c?a.extend(!0,e,c):d=c,"update"===d)return f.data("perfect-scrollbar-update")&&f.data("perfect-scrollbar-update")(),f;if("destroy"===d)return f.data("perfect-scrollbar-destroy")&&f.data("perfect-scrollbar-destroy")(),f;if(f.data("perfect-scrollbar"))return f.data("perfect-scrollbar");f.addClass("ps-container");var g,h,i,j,k,l,m,n,o,p,q=a("<div class='ps-scrollbar-x-rail'></div>").appendTo(f),r=a("<div class='ps-scrollbar-y-rail'></div>").appendTo(f),s=a("<div class='ps-scrollbar-x'></div>").appendTo(q),t=a("<div class='ps-scrollbar-y'></div>").appendTo(r),u=parseInt(q.css("bottom"),10),v=parseInt(r.css("right"),10),w=function(){var a=parseInt(p*(l-j)/(j-o),10);f.scrollTop(a),q.css({bottom:u-a})},x=function(){var a=parseInt(n*(k-i)/(i-m),10);f.scrollLeft(a),r.css({right:v-a})},y=function(a){return e.minScrollbarLength&&(a=Math.max(a,e.minScrollbarLength)),a},z=function(){q.css({left:f.scrollLeft(),bottom:u-f.scrollTop(),width:i}),r.css({top:f.scrollTop(),right:v-f.scrollLeft(),height:j}),s.css({left:n,width:m}),t.css({top:p,height:o})},A=function(){i=f.width(),j=f.height(),k=f.prop("scrollWidth"),l=f.prop("scrollHeight"),i<k?(g=!0,m=y(parseInt(i*i/k,10)),n=parseInt(f.scrollLeft()*(i-m)/(k-i),10)):(g=!1,m=0,n=0,f.scrollLeft(0)),j<l?(h=!0,o=y(parseInt(j*j/l,10)),p=parseInt(f.scrollTop()*(j-o)/(l-j),10)):(h=!1,o=0,p=0,f.scrollTop(0)),p>=j-o&&(p=j-o),n>=i-m&&(n=i-m),z()},B=function(a,b){var c=a+b,d=i-m;n=c<0?0:c>d?d:c,q.css({left:f.scrollLeft()}),s.css({left:n})},C=function(a,b){var c=a+b,d=j-o;p=c<0?0:c>d?d:c,r.css({top:f.scrollTop()}),t.css({top:p})},D=function(){var b,c;s.bind("mousedown.perfect-scrollbar",function(a){c=a.pageX,b=s.position().left,q.addClass("in-scrolling"),a.stopPropagation(),a.preventDefault()}),a(document).bind("mousemove.perfect-scrollbar",function(a){q.hasClass("in-scrolling")&&(x(),B(b,a.pageX-c),a.stopPropagation(),a.preventDefault())}),a(document).bind("mouseup.perfect-scrollbar",function(a){q.hasClass("in-scrolling")&&q.removeClass("in-scrolling")}),b=c=null},E=function(){var b,c;t.bind("mousedown.perfect-scrollbar",function(a){c=a.pageY,b=t.position().top,r.addClass("in-scrolling"),a.stopPropagation(),a.preventDefault()}),a(document).bind("mousemove.perfect-scrollbar",function(a){r.hasClass("in-scrolling")&&(w(),C(b,a.pageY-c),a.stopPropagation(),a.preventDefault())}),a(document).bind("mouseup.perfect-scrollbar",function(a){r.hasClass("in-scrolling")&&r.removeClass("in-scrolling")}),b=c=null},F=function(){var a=function(a,b){var c=f.scrollTop();if(0===c&&b>0&&0===a)return!e.wheelPropagation;if(c>=l-j&&b<0&&0===a)return!e.wheelPropagation;var d=f.scrollLeft();return 0===d&&a<0&&0===b?!e.wheelPropagation:!(d>=k-i&&a>0&&0===b)||!e.wheelPropagation},b=!1;f.bind("mousewheel.perfect-scrollbar",function(c,d,i,j){e.useBothWheelAxes?h&&!g?j?f.scrollTop(f.scrollTop()-j*e.wheelSpeed):f.scrollTop(f.scrollTop()+i*e.wheelSpeed):g&&!h&&(i?f.scrollLeft(f.scrollLeft()+i*e.wheelSpeed):f.scrollLeft(f.scrollLeft()-j*e.wheelSpeed)):(f.scrollTop(f.scrollTop()-j*e.wheelSpeed),f.scrollLeft(f.scrollLeft()+i*e.wheelSpeed)),A(),b=a(i,j),b&&c.preventDefault()}),f.bind("MozMousePixelScroll.perfect-scrollbar",function(a){b&&a.preventDefault()})},G=function(){var b=function(a,b){var c=f.scrollTop();if(0===c&&b>0&&0===a)return!1;if(c>=l-j&&b<0&&0===a)return!1;var d=f.scrollLeft();return!(0===d&&a<0&&0===b)&&!(d>=k-i&&a>0&&0===b)},c=!1;f.bind("mouseenter.perfect-scrollbar",function(a){c=!0}),f.bind("mouseleave.perfect-scrollbar",function(a){c=!1});var d=!1;a(document).bind("keydown.perfect-scrollbar",function(a){if(c){var g=0,h=0;switch(a.which){case 37:g=-3;break;case 38:h=3;break;case 39:g=3;break;case 40:h=-3;break;default:return}f.scrollTop(f.scrollTop()-h*e.wheelSpeed),f.scrollLeft(f.scrollLeft()+g*e.wheelSpeed),A(),d=b(g,h),d&&a.preventDefault()}})},H=function(){var a=function(a){a.stopPropagation()};t.bind("click.perfect-scrollbar",a),r.bind("click.perfect-scrollbar",function(a){var b=parseInt(o/2,10),c=a.pageY-r.offset().top-b,d=j-o,e=c/d;e<0?e=0:e>1&&(e=1),f.scrollTop((l-j)*e),A()}),s.bind("click.perfect-scrollbar",a),q.bind("click.perfect-scrollbar",function(a){var b=parseInt(m/2,10),c=a.pageX-q.offset().left-b,d=i-m,e=c/d;e<0?e=0:e>1&&(e=1),f.scrollLeft((k-i)*e),A()})},I=function(){var b=function(a,b){f.scrollTop(f.scrollTop()-b),f.scrollLeft(f.scrollLeft()-a),A()},c={},d=0,e={},g=null,h=!1;a(window).bind("touchstart.perfect-scrollbar",function(a){h=!0}),a(window).bind("touchend.perfect-scrollbar",function(a){h=!1}),f.bind("touchstart.perfect-scrollbar",function(a){var b=a.originalEvent.targetTouches[0];c.pageX=b.pageX,c.pageY=b.pageY,d=(new Date).getTime(),null!==g&&clearInterval(g),a.stopPropagation()}),f.bind("touchmove.perfect-scrollbar",function(a){if(!h&&1===a.originalEvent.targetTouches.length){var f=a.originalEvent.targetTouches[0],g={};g.pageX=f.pageX,g.pageY=f.pageY;var i=g.pageX-c.pageX,j=g.pageY-c.pageY;b(i,j),c=g;var k=(new Date).getTime();e.x=i/(k-d),e.y=j/(k-d),d=k,a.preventDefault()}}),f.bind("touchend.perfect-scrollbar",function(a){clearInterval(g),g=setInterval(function(){return Math.abs(e.x)<.01&&Math.abs(e.y)<.01?void clearInterval(g):(b(30*e.x,30*e.y),e.x*=.8,void(e.y*=.8))},10)})},J=function(){f.unbind(".perfect-scrollbar"),a(window).unbind(".perfect-scrollbar"),a(document).unbind(".perfect-scrollbar"),f.data("perfect-scrollbar",null),f.data("perfect-scrollbar-update",null),f.data("perfect-scrollbar-destroy",null),s.remove(),t.remove(),q.remove(),r.remove(),s=t=i=j=k=l=m=n=u=o=p=v=null},K=function(b){f.addClass("ie").addClass("ie"+b);var c=function(){var b=function(){a(this).addClass("hover")},c=function(){a(this).removeClass("hover")};f.bind("mouseenter.perfect-scrollbar",b).bind("mouseleave.perfect-scrollbar",c),q.bind("mouseenter.perfect-scrollbar",b).bind("mouseleave.perfect-scrollbar",c),r.bind("mouseenter.perfect-scrollbar",b).bind("mouseleave.perfect-scrollbar",c),s.bind("mouseenter.perfect-scrollbar",b).bind("mouseleave.perfect-scrollbar",c),t.bind("mouseenter.perfect-scrollbar",b).bind("mouseleave.perfect-scrollbar",c)},d=function(){z=function(){s.css({left:n+f.scrollLeft(),bottom:u,width:m}),t.css({top:p+f.scrollTop(),right:v,height:o}),s.hide().show(),t.hide().show()},w=function(){var a=parseInt(p*l/j,10);f.scrollTop(a),s.css({bottom:u}),s.hide().show()},x=function(){var a=parseInt(n*k/i,10);f.scrollLeft(a),t.hide().show()}};6===b&&(c(),d())},L="ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,M=function(){var a=navigator.userAgent.toLowerCase().match(/(msie) ([\w.]+)/);a&&"msie"===a[1]&&K(parseInt(a[2],10)),A(),D(),E(),H(),L&&I(),f.mousewheel&&F(),e.useKeyboard&&G(),f.data("perfect-scrollbar",f),f.data("perfect-scrollbar-update",A),f.data("perfect-scrollbar-destroy",J)};return M(),f})}}),"undefined"==typeof document||"classList"in document.createElement("a")||!function(a){var b="classList",c="prototype",d=(a.HTMLElement||a.Element)[c],e=Object,f=String[c].trim||function(){return this.replace(/^\s+|\s+$/g,"")},g=Array[c].indexOf||function(a){for(var b=0,c=this.length;b<c;b++)if(b in this&&this[b]===a)return b;return-1},h=function(a,b){this.name=a,this.code=DOMException[a],this.message=b},i=function(a,b){if(""===b)throw new h("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new h("INVALID_CHARACTER_ERR","String contains an invalid character");return g.call(a,b)},j=function(a){for(var b=f.call(a.className),c=b?b.split(/\s+/):[],d=0,e=c.length;d<e;d++)this.push(c[d]);this._updateClassName=function(){a.className=this.toString()}},k=j[c]=[],l=function(){return new j(this)};if(h[c]=Error[c],k.item=function(a){return this[a]||null},k.contains=function(a){return a+="",i(this,a)!==-1},k.add=function(a){a+="",i(this,a)===-1&&(this.push(a),this._updateClassName())},k.remove=function(a){a+="";var b=i(this,a);b!==-1&&(this.splice(b,1),this._updateClassName())},k.toggle=function(a){a+="",i(this,a)===-1?this.add(a):this.remove(a)},k.toString=function(){return this.join(" ")},e.defineProperty){var m={get:l,enumerable:!0,configurable:!0};try{e.defineProperty(d,b,m)}catch(a){a.number===-2146823252&&(m.enumerable=!1,e.defineProperty(d,b,m))}}else e[c].__defineGetter__&&d.__defineGetter__(b,l)}(self),document.createElement("header"),document.createElement("nav"),document.createElement("section"),document.createElement("article"),document.createElement("aside"),document.createElement("footer"),document.createElement("hgroup");var Reveal=function(){"use strict";function a(a){return b(),Ka||Ja?(window.addEventListener("load",C,!1),l(Qa,a),s(),void c()):void document.body.setAttribute("class","no-transforms")}function b(){Ja="WebkitPerspective"in document.body.style||"MozPerspective"in document.body.style||"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style,Ka="WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"transform"in document.body.style,La=navigator.userAgent.match(/(iphone|ipod|android)/gi)}function c(){function a(){c.length&&head.js.apply(null,c),d()}for(var b=[],c=[],e=0,f=Qa.dependencies.length;e<f;e++){var g=Qa.dependencies[e];g.condition&&!g.condition()||(g.async?c.push(g.src):b.push(g.src),"function"==typeof g.callback&&head.ready(g.src.match(/([\w\d_\-]*)\.?js$|[^\\\/]*$/i)[0],g.callback))}b.length?(head.ready(a),head.js.apply(null,b)):a()}function d(){f(),e(),i(),_(),setTimeout(function(){Va.slides.classList.remove("no-transition"),Ra=!0,u("ready",{indexh:Fa,indexv:Ga,currentSlide:Ia})},1)}function e(){var a=m(document.querySelectorAll(Na));a.forEach(function(a){var b=m(a.querySelectorAll("section"));b.forEach(function(a,b){b>0&&a.classList.add("future")})})}function f(){Va.theme=document.querySelector("#theme"),Va.wrapper=document.querySelector(".reveal"),Va.slides=document.querySelector(".reveal .slides"),Va.slides.classList.add("no-transition"),Va.background=g(Va.wrapper,"div","backgrounds",null),Va.progress=g(Va.wrapper,"div","progress","<span></span>"),Va.progressbar=Va.progress.querySelector("span"),g(Va.wrapper,"aside","controls",'<div class="navigate-left"></div><div class="navigate-right"></div><div class="navigate-up"></div><div class="navigate-down"></div>'),g(Va.wrapper,"div","state-background",null),g(Va.wrapper,"div","pause-overlay",null),Qa.controls&&(Va.controls=document.querySelector(".reveal .controls"),Va.controlsLeft=m(document.querySelectorAll(".navigate-left")),Va.controlsRight=m(document.querySelectorAll(".navigate-right")),Va.controlsUp=m(document.querySelectorAll(".navigate-up")),Va.controlsDown=m(document.querySelectorAll(".navigate-down")),Va.controlsPrev=m(document.querySelectorAll(".navigate-prev")),Va.controlsNext=m(document.querySelectorAll(".navigate-next")))}function g(a,b,c,d){var e=a.querySelector("."+c);return e||(e=document.createElement(b),e.classList.add(c),null!==d&&(e.innerHTML=d),a.appendChild(e)),e}function h(){function a(a,b){var c={background:a.getAttribute("data-background"),backgroundSize:a.getAttribute("data-background-size"),backgroundImage:a.getAttribute("data-background-image"),backgroundColor:a.getAttribute("data-background-color"),backgroundRepeat:a.getAttribute("data-background-repeat"),backgroundPosition:a.getAttribute("data-background-position"),backgroundTransition:a.getAttribute("data-background-transition")},d=document.createElement("div");return d.className="slide-background",c.background&&(/^(http|file|\/\/)/gi.test(c.background)||/\.(png|jpg|jpeg|gif|bmp)$/gi.test(c.background)?d.style.backgroundImage="url("+c.background+")":d.style.background=c.background),c.backgroundSize&&(d.style.backgroundSize=c.backgroundSize),c.backgroundImage&&(d.style.backgroundImage='url("'+c.backgroundImage+'")'),c.backgroundColor&&(d.style.backgroundColor=c.backgroundColor),c.backgroundRepeat&&(d.style.backgroundRepeat=c.backgroundRepeat),c.backgroundPosition&&(d.style.backgroundPosition=c.backgroundPosition),c.backgroundTransition&&d.setAttribute("data-background-transition",c.backgroundTransition),b.appendChild(d),d}r()&&document.body.classList.add("print-pdf"),Va.background.innerHTML="",Va.background.classList.add("no-transition"),m(document.querySelectorAll(Na)).forEach(function(b){var c;c=r()?a(b,b):a(b,Va.background),m(b.querySelectorAll("section")).forEach(function(b){r()?a(b,b):a(b,c)})})}function i(a){if(Va.wrapper.classList.remove(Qa.transition),"object"==typeof a&&l(Qa,a),Ja===!1&&(Qa.transition="linear"),Va.wrapper.classList.add(Qa.transition),Va.wrapper.setAttribute("data-transition-speed",Qa.transitionSpeed),Va.wrapper.setAttribute("data-background-transition",Qa.backgroundTransition),Va.controls&&(Va.controls.style.display=Qa.controls&&Va.controls?"block":"none"),Va.progress&&(Va.progress.style.display=Qa.progress&&Va.progress?"block":"none"),Qa.rtl?Va.wrapper.classList.add("rtl"):Va.wrapper.classList.remove("rtl"),Qa.center?Va.wrapper.classList.add("center"):Va.wrapper.classList.remove("center"),Qa.mouseWheel?(document.addEventListener("DOMMouseScroll",ta,!1),document.addEventListener("mousewheel",ta,!1)):(document.removeEventListener("DOMMouseScroll",ta,!1),document.removeEventListener("mousewheel",ta,!1)),
Qa.rollingLinks?v():w(),Qa.previewLinks?x():(y(),x("[data-preview-link]")),Qa.theme&&Va.theme){var b=Va.theme.getAttribute("href"),c=/[^\/]*?(?=\.css)/,d=b.match(c)[0];Qa.theme!==d&&(b=b.replace(c,Qa.theme),Va.theme.setAttribute("href",b))}R()}function j(){_a=!0,window.addEventListener("hashchange",Ba,!1),window.addEventListener("resize",Ca,!1),Qa.touch&&(Va.wrapper.addEventListener("touchstart",na,!1),Va.wrapper.addEventListener("touchmove",oa,!1),Va.wrapper.addEventListener("touchend",pa,!1),window.navigator.msPointerEnabled&&(Va.wrapper.addEventListener("MSPointerDown",qa,!1),Va.wrapper.addEventListener("MSPointerMove",ra,!1),Va.wrapper.addEventListener("MSPointerUp",sa,!1))),Qa.keyboard&&document.addEventListener("keydown",ma,!1),Qa.progress&&Va.progress&&Va.progress.addEventListener("click",ua,!1),Qa.controls&&Va.controls&&["touchstart","click"].forEach(function(a){Va.controlsLeft.forEach(function(b){b.addEventListener(a,va,!1)}),Va.controlsRight.forEach(function(b){b.addEventListener(a,wa,!1)}),Va.controlsUp.forEach(function(b){b.addEventListener(a,xa,!1)}),Va.controlsDown.forEach(function(b){b.addEventListener(a,ya,!1)}),Va.controlsPrev.forEach(function(b){b.addEventListener(a,za,!1)}),Va.controlsNext.forEach(function(b){b.addEventListener(a,Aa,!1)})})}function k(){_a=!1,document.removeEventListener("keydown",ma,!1),window.removeEventListener("hashchange",Ba,!1),window.removeEventListener("resize",Ca,!1),Va.wrapper.removeEventListener("touchstart",na,!1),Va.wrapper.removeEventListener("touchmove",oa,!1),Va.wrapper.removeEventListener("touchend",pa,!1),window.navigator.msPointerEnabled&&(Va.wrapper.removeEventListener("MSPointerDown",qa,!1),Va.wrapper.removeEventListener("MSPointerMove",ra,!1),Va.wrapper.removeEventListener("MSPointerUp",sa,!1)),Qa.progress&&Va.progress&&Va.progress.removeEventListener("click",ua,!1),Qa.controls&&Va.controls&&["touchstart","click"].forEach(function(a){Va.controlsLeft.forEach(function(b){b.removeEventListener(a,va,!1)}),Va.controlsRight.forEach(function(b){b.removeEventListener(a,wa,!1)}),Va.controlsUp.forEach(function(b){b.removeEventListener(a,xa,!1)}),Va.controlsDown.forEach(function(b){b.removeEventListener(a,ya,!1)}),Va.controlsPrev.forEach(function(b){b.removeEventListener(a,za,!1)}),Va.controlsNext.forEach(function(b){b.removeEventListener(a,Aa,!1)})})}function l(a,b){for(var c in b)a[c]=b[c]}function m(a){return Array.prototype.slice.call(a)}function n(a,b){var c=a.x-b.x,d=a.y-b.y;return Math.sqrt(c*c+d*d)}function o(a,b){a.style.WebkitTransform=b,a.style.MozTransform=b,a.style.msTransform=b,a.style.OTransform=b,a.style.transform=b}function p(a){var b=0;if(a){var c=0;m(a.childNodes).forEach(function(a){"number"==typeof a.offsetTop&&a.style&&("absolute"===a.style.position&&(c+=1),b=Math.max(b,a.offsetTop+a.offsetHeight))}),0===c&&(b=a.offsetHeight)}return b}function q(a,b){if(b=b||0,a){var c=a.parentNode,d=c.childNodes;m(d).forEach(function(c){if("number"==typeof c.offsetHeight&&c!==a){var d=window.getComputedStyle(c),e=parseInt(d.marginTop,10),f=parseInt(d.marginBottom,10);b-=c.offsetHeight+e+f}});var e=window.getComputedStyle(a);b-=parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)}return b}function r(){return/print-pdf/gi.test(window.location.search)}function s(){/iphone|ipod|android/gi.test(navigator.userAgent)&&!/crios/gi.test(navigator.userAgent)&&(window.addEventListener("load",t,!1),window.addEventListener("orientationchange",t,!1))}function t(){0===window.orientation?(document.documentElement.style.overflow="scroll",document.body.style.height="120%"):(document.documentElement.style.overflow="",document.body.style.height="100%"),setTimeout(function(){window.scrollTo(0,1)},10)}function u(a,b){var c=document.createEvent("HTMLEvents",1,2);c.initEvent(a,!0,!0),l(c,b),Va.wrapper.dispatchEvent(c)}function v(){if(Ja&&!("msPerspective"in document.body.style))for(var a=document.querySelectorAll(Ma+" a:not(.image)"),b=0,c=a.length;b<c;b++){var d=a[b];if(d.textContent&&!d.querySelector("*")&&(!d.className||!d.classList.contains(d,"roll"))){var e=document.createElement("span");e.setAttribute("data-title",d.text),e.innerHTML=d.innerHTML,d.classList.add("roll"),d.innerHTML="",d.appendChild(e)}}}function w(){for(var a=document.querySelectorAll(Ma+" a.roll"),b=0,c=a.length;b<c;b++){var d=a[b],e=d.querySelector("span");e&&(d.classList.remove("roll"),d.innerHTML=e.innerHTML)}}function x(a){var b=m(document.querySelectorAll(a?a:"a"));b.forEach(function(a){/^(http|www)/gi.test(a.getAttribute("href"))&&a.addEventListener("click",Ea,!1)})}function y(){var a=m(document.querySelectorAll("a"));a.forEach(function(a){/^(http|www)/gi.test(a.getAttribute("href"))&&a.removeEventListener("click",Ea,!1)})}function z(a){A(),Va.preview=document.createElement("div"),Va.preview.classList.add("preview-link-overlay"),Va.wrapper.appendChild(Va.preview),Va.preview.innerHTML=["<header>",'<a class="close" href="#"><span class="icon"></span></a>','<a class="external" href="'+a+'" target="_blank"><span class="icon"></span></a>',"</header>",'<div class="spinner"></div>','<div class="viewport">','<iframe src="'+a+'"></iframe>',"</div>"].join(""),Va.preview.querySelector("iframe").addEventListener("load",function(a){Va.preview.classList.add("loaded")},!1),Va.preview.querySelector(".close").addEventListener("click",function(a){A(),a.preventDefault()},!1),Va.preview.querySelector(".external").addEventListener("click",function(a){A()},!1),setTimeout(function(){Va.preview.classList.add("visible")},1)}function A(){Va.preview&&(Va.preview.setAttribute("src",""),Va.preview.parentNode.removeChild(Va.preview),Va.preview=null)}function B(a){var b=m(a);return b.forEach(function(a,b){a.hasAttribute("data-fragment-index")||a.setAttribute("data-fragment-index",b)}),b.sort(function(a,b){return a.getAttribute("data-fragment-index")-b.getAttribute("data-fragment-index")}),b}function C(){if(Va.wrapper&&!r()){var a=Va.wrapper.offsetWidth,b=Va.wrapper.offsetHeight;a-=b*Qa.margin,b-=b*Qa.margin;var c=Qa.width,d=Qa.height,e=20;D(Qa.width,Qa.height,e),"string"==typeof c&&/%$/.test(c)&&(c=parseInt(c,10)/100*a),"string"==typeof d&&/%$/.test(d)&&(d=parseInt(d,10)/100*b),Va.slides.style.width=c+"px",Va.slides.style.height=d+"px",Ua=Math.min(a/c,b/d),Ua=Math.max(Ua,Qa.minScale),Ua=Math.min(Ua,Qa.maxScale),"undefined"==typeof Va.slides.style.zoom||navigator.userAgent.match(/(iphone|ipod|ipad|android)/gi)?o(Va.slides,"translate(-50%, -50%) scale("+Ua+") translate(50%, 50%)"):Va.slides.style.zoom=Ua;for(var f=m(document.querySelectorAll(Ma)),g=0,h=f.length;g<h;g++){var i=f[g];"none"!==i.style.display&&(Qa.center?i.classList.contains("stack")?i.style.top=0:i.style.top=Math.max(-(p(i)/2)-e,-d/2)+"px":i.style.top="")}U()}}function D(a,b,c){m(Va.slides.querySelectorAll("section > .stretch")).forEach(function(d){var e=q(d,b-2*c);if(/(img|video)/gi.test(d.nodeName)){var f=d.naturalWidth||d.videoWidth,g=d.naturalHeight||d.videoHeight,h=Math.min(a/f,e/g);d.style.width=f*h+"px",d.style.height=g*h+"px"}else d.style.width=a+"px",d.style.height=e+"px"})}function E(a,b){"object"==typeof a&&"function"==typeof a.setAttribute&&a.setAttribute("data-previous-indexv",b||0)}function F(a){if("object"==typeof a&&"function"==typeof a.setAttribute&&a.classList.contains("stack")){var b=a.hasAttribute("data-start-indexv")?"data-start-indexv":"data-previous-indexv";return parseInt(a.getAttribute(b)||0,10)}return 0}function G(){if(Qa.overview){fa();var a=Va.wrapper.classList.contains("overview"),b=window.innerWidth<400?1e3:2500;Va.wrapper.classList.add("overview"),Va.wrapper.classList.remove("exit-overview"),clearTimeout(Za),clearTimeout($a),Za=setTimeout(function(){for(var c=document.querySelectorAll(Na),d=0,e=c.length;d<e;d++){var f=c[d],g=Qa.rtl?-105:105;if(f.setAttribute("data-index-h",d),o(f,"translateZ(-"+b+"px) translate("+(d-Fa)*g+"%, 0%)"),f.classList.contains("stack"))for(var h=f.querySelectorAll("section"),i=0,j=h.length;i<j;i++){var k=d===Fa?Ga:F(f),l=h[i];l.setAttribute("data-index-h",d),l.setAttribute("data-index-v",i),o(l,"translate(0%, "+105*(i-k)+"%)"),l.addEventListener("click",Da,!0)}else f.addEventListener("click",Da,!0)}T(),C(),a||u("overviewshown",{indexh:Fa,indexv:Ga,currentSlide:Ia})},10)}}function H(){if(Qa.overview){clearTimeout(Za),clearTimeout($a),Va.wrapper.classList.remove("overview"),Va.wrapper.classList.add("exit-overview"),$a=setTimeout(function(){Va.wrapper.classList.remove("exit-overview")},10);for(var a=m(document.querySelectorAll(Ma)),b=0,c=a.length;b<c;b++){var d=a[b];d.style.display="",o(d,""),d.removeEventListener("click",Da,!0)}Q(Fa,Ga),ea(),u("overviewhidden",{indexh:Fa,indexv:Ga,currentSlide:Ia})}}function I(a){"boolean"==typeof a?a?G():H():J()?H():G()}function J(){return Va.wrapper.classList.contains("overview")}function K(a){return a=a?a:Ia,a&&!!a.parentNode.nodeName.match(/section/i)}function L(){var a=document.body,b=a.requestFullScreen||a.webkitRequestFullscreen||a.webkitRequestFullScreen||a.mozRequestFullScreen||a.msRequestFullScreen;b&&b.apply(a)}function M(){var a=Va.wrapper.classList.contains("paused");fa(),Va.wrapper.classList.add("paused"),a===!1&&u("paused")}function N(){var a=Va.wrapper.classList.contains("paused");Va.wrapper.classList.remove("paused"),ea(),a&&u("resumed")}function O(){P()?N():M()}function P(){return Va.wrapper.classList.contains("paused")}function Q(a,b,c,d){Ha=Ia;var e=document.querySelectorAll(Na);void 0===b&&(b=F(e[a])),Ha&&Ha.parentNode&&Ha.parentNode.classList.contains("stack")&&E(Ha.parentNode,Ga);var f=Ta.concat();Ta.length=0;var g=Fa||0,h=Ga||0;Fa=S(Na,void 0===a?Fa:a),Ga=S(Oa,void 0===b?Ga:b),T(),C();a:for(var i=0,j=Ta.length;i<j;i++){for(var k=0;k<f.length;k++)if(f[k]===Ta[i]){f.splice(k,1);continue a}document.documentElement.classList.add(Ta[i]),u(Ta[i])}for(;f.length;)document.documentElement.classList.remove(f.pop());J()&&G();var l=e[Fa],n=l.querySelectorAll("section");if(Ia=n[Ga]||l,"undefined"!=typeof c){var o=B(Ia.querySelectorAll(".fragment"));m(o).forEach(function(a,b){b<c?a.classList.add("visible"):a.classList.remove("visible")})}var p=Fa!==g||Ga!==h;p?u("slidechanged",{indexh:Fa,indexv:Ga,previousSlide:Ha,currentSlide:Ia,origin:d}):Ha=null,Ha&&(Ha.classList.remove("present"),document.querySelector(Pa).classList.contains("present")&&setTimeout(function(){var a,b=m(document.querySelectorAll(Na+".stack"));for(a in b)b[a]&&E(b[a],0)},0)),p&&($(Ha),Z(Ia)),V(),U(),W(),aa()}function R(){k(),j(),C(),Sa=Qa.autoSlide,ea(),h(),V(),U(),W()}function S(a,b){var c=m(document.querySelectorAll(a)),d=c.length;if(d){Qa.loop&&(b%=d,b<0&&(b=d+b)),b=Math.max(Math.min(b,d-1),0);for(var e=0;e<d;e++){var f=c[e],g=Qa.rtl&&!K(f);if(f.classList.remove("past"),f.classList.remove("present"),f.classList.remove("future"),f.setAttribute("hidden",""),e<b)f.classList.add(g?"future":"past");else if(e>b){f.classList.add(g?"past":"future");for(var h=m(f.querySelectorAll(".fragment.visible"));h.length;)h.pop().classList.remove("visible")}f.querySelector("section")&&f.classList.add("stack")}c[b].classList.add("present"),c[b].removeAttribute("hidden");var i=c[b].getAttribute("data-state");i&&(Ta=Ta.concat(i.split(" ")));var j=c[b].getAttribute("data-autoslide");Sa=j?parseInt(j,10):Qa.autoSlide,ea()}else b=0;return b}function T(){var a,b,c=m(document.querySelectorAll(Na)),d=c.length;if(d){var e=J()?10:Qa.viewDistance;La&&(e=J()?6:1);for(var f=0;f<d;f++){var g=c[f],h=m(g.querySelectorAll("section")),i=h.length;if(a=Math.abs((Fa-f)%(d-e))||0,g.style.display=a>e?"none":"block",i)for(var j=F(g),k=0;k<i;k++){var l=h[k];b=f===Fa?Math.abs(Ga-k):Math.abs(k-j),l.style.display=a+b>e?"none":"block"}}}}function U(){if(Qa.progress&&Va.progress){var a=m(document.querySelectorAll(Na)),b=document.querySelectorAll(Ma+":not(.stack)").length,c=0;a:for(var d=0;d<a.length;d++){for(var e=a[d],f=m(e.querySelectorAll("section")),g=0;g<f.length;g++){if(f[g].classList.contains("present"))break a;c++}if(e.classList.contains("present"))break;e.classList.contains("stack")===!1&&c++}Va.progressbar.style.width=c/(b-1)*window.innerWidth+"px"}}function V(){if(Qa.controls&&Va.controls){var a=X(),b=Y();Va.controlsLeft.concat(Va.controlsRight).concat(Va.controlsUp).concat(Va.controlsDown).concat(Va.controlsPrev).concat(Va.controlsNext).forEach(function(a){a.classList.remove("enabled"),a.classList.remove("fragmented")}),a.left&&Va.controlsLeft.forEach(function(a){a.classList.add("enabled")}),a.right&&Va.controlsRight.forEach(function(a){a.classList.add("enabled")}),a.up&&Va.controlsUp.forEach(function(a){a.classList.add("enabled")}),a.down&&Va.controlsDown.forEach(function(a){a.classList.add("enabled")}),(a.left||a.up)&&Va.controlsPrev.forEach(function(a){a.classList.add("enabled")}),(a.right||a.down)&&Va.controlsNext.forEach(function(a){a.classList.add("enabled")}),Ia&&(b.prev&&Va.controlsPrev.forEach(function(a){a.classList.add("fragmented","enabled")}),b.next&&Va.controlsNext.forEach(function(a){a.classList.add("fragmented","enabled")}),K(Ia)?(b.prev&&Va.controlsUp.forEach(function(a){a.classList.add("fragmented","enabled")}),b.next&&Va.controlsDown.forEach(function(a){a.classList.add("fragmented","enabled")})):(b.prev&&Va.controlsLeft.forEach(function(a){a.classList.add("fragmented","enabled")}),b.next&&Va.controlsRight.forEach(function(a){a.classList.add("fragmented","enabled")})))}}function W(){m(Va.background.childNodes).forEach(function(a,b){var c=Qa.rtl?"future":"past",d=Qa.rtl?"past":"future";a.className="slide-background "+(b<Fa?c:b>Fa?d:"present"),m(a.childNodes).forEach(function(a,b){a.className="slide-background "+(b<Ga?"past":b>Ga?"future":"present")})}),setTimeout(function(){Va.background.classList.remove("no-transition")},1)}function X(){var a=document.querySelectorAll(Na),b=document.querySelectorAll(Oa),c={left:Fa>0||Qa.loop,right:Fa<a.length-1||Qa.loop,up:Ga>0,down:Ga<b.length-1};if(Qa.rtl){var d=c.left;c.left=c.right,c.right=d}return c}function Y(){if(Ia&&Qa.fragments){var a=Ia.querySelectorAll(".fragment"),b=Ia.querySelectorAll(".fragment:not(.visible)");return{prev:a.length-b.length>0,next:!!b.length}}return{prev:!1,next:!1}}function Z(a){a&&(m(a.querySelectorAll("video, audio")).forEach(function(a){a.hasAttribute("data-autoplay")&&a.play()}),m(a.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach(function(a){a.hasAttribute("data-autoplay")&&a.contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}))}function $(a){a&&(m(a.querySelectorAll("video, audio")).forEach(function(a){a.hasAttribute("data-ignore")||a.pause()}),m(a.querySelectorAll('iframe[src*="youtube.com/embed/"]')).forEach(function(a){a.hasAttribute("data-ignore")||"function"!=typeof a.contentWindow.postMessage||a.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))}function _(){var a=window.location.hash,b=a.slice(2).split("/"),c=a.replace(/#|\//gi,"");if(isNaN(parseInt(b[0],10))&&c.length){var d=document.querySelector("#"+c);if(d){var e=Reveal.getIndices(d);Q(e.h,e.v)}else Q(Fa||0,Ga||0)}else{var f=parseInt(b[0],10)||0,g=parseInt(b[1],10)||0;f===Fa&&g===Ga||Q(f,g)}}function aa(a){if(Qa.history)if(clearTimeout(Ya),"number"==typeof a)Ya=setTimeout(aa,a);else{var b="/";Ia&&"string"==typeof Ia.getAttribute("id")?b="/"+Ia.getAttribute("id"):((Fa>0||Ga>0)&&(b+=Fa),Ga>0&&(b+="/"+Ga)),window.location.hash=b}}function ba(a){var b,c=Fa,d=Ga;if(a){var e=K(a),f=e?a.parentNode:a,g=m(document.querySelectorAll(Na));c=Math.max(g.indexOf(f),0),e&&(d=Math.max(m(a.parentNode.querySelectorAll("section")).indexOf(a),0))}if(!a&&Ia){var h=Ia.querySelectorAll(".fragment").length>0;if(h){var i=Ia.querySelectorAll(".fragment.visible");b=i.length}}return{h:c,v:d,f:b}}function ca(){if(Ia&&Qa.fragments){var a=B(Ia.querySelectorAll(".fragment:not(.visible)"));if(a.length){var b=a[0].getAttribute("data-fragment-index");return a=Ia.querySelectorAll('.fragment[data-fragment-index="'+b+'"]'),m(a).forEach(function(a){a.classList.add("visible")}),u("fragmentshown",{fragment:a[0],fragments:a}),V(),!0}}return!1}function da(){if(Ia&&Qa.fragments){var a=B(Ia.querySelectorAll(".fragment.visible"));if(a.length){var b=a[a.length-1].getAttribute("data-fragment-index");return a=Ia.querySelectorAll('.fragment[data-fragment-index="'+b+'"]'),m(a).forEach(function(a){a.classList.remove("visible")}),u("fragmenthidden",{fragment:a[0],fragments:a}),V(),!0}}return!1}function ea(){clearTimeout(Xa),!Sa||P()||J()||(Xa=setTimeout(la,Sa))}function fa(){clearTimeout(Xa)}function ga(){Qa.rtl?(J()||ca()===!1)&&X().left&&Q(Fa+1):(J()||da()===!1)&&X().left&&Q(Fa-1)}function ha(){Qa.rtl?(J()||da()===!1)&&X().right&&Q(Fa-1):(J()||ca()===!1)&&X().right&&Q(Fa+1)}function ia(){(J()||da()===!1)&&X().up&&Q(Fa,Ga-1)}function ja(){(J()||ca()===!1)&&X().down&&Q(Fa,Ga+1)}function ka(){if(da()===!1)if(X().up)ia();else{var a=document.querySelector(Na+".past:nth-child("+Fa+")");if(a){var b=a.querySelectorAll("section").length-1||void 0,c=Fa-1;Q(c,b)}}}function la(){ca()===!1&&(X().down?ja():ha()),ea()}function ma(a){var b=(document.activeElement,!(!document.activeElement||!document.activeElement.type&&!document.activeElement.href&&"inherit"===document.activeElement.contentEditable));if(!(b||a.shiftKey&&32!==a.keyCode||a.altKey||a.ctrlKey||a.metaKey)){if(P()&&[66,190,191].indexOf(a.keyCode)===-1)return!1;var c=!1;if("object"==typeof Qa.keyboard)for(var d in Qa.keyboard)if(parseInt(d,10)===a.keyCode){var e=Qa.keyboard[d];"function"==typeof e?e.apply(null,[a]):"string"==typeof e&&"function"==typeof Reveal[e]&&Reveal[e].call(),c=!0}if(c===!1)switch(c=!0,a.keyCode){case 80:case 33:ka();break;case 78:case 34:la();break;case 72:case 37:ga();break;case 76:case 39:ha();break;case 75:case 38:ia();break;case 74:case 40:ja();break;case 36:Q(0);break;case 35:Q(Number.MAX_VALUE);break;case 32:J()?H():a.shiftKey?ka():la();break;case 13:J()?H():c=!1;break;case 66:case 190:case 191:O();break;case 70:L();break;default:c=!1}c?a.preventDefault():27!==a.keyCode&&79!==a.keyCode||!Ja||(I(),a.preventDefault()),ea()}}function na(a){ab.startX=a.touches[0].clientX,ab.startY=a.touches[0].clientY,ab.startCount=a.touches.length,2===a.touches.length&&Qa.overview&&(ab.startSpan=n({x:a.touches[1].clientX,y:a.touches[1].clientY},{x:ab.startX,y:ab.startY}))}function oa(a){if(ab.captured)navigator.userAgent.match(/android/gi)&&a.preventDefault();else{var b=a.touches[0].clientX,c=a.touches[0].clientY;if(2===a.touches.length&&2===ab.startCount&&Qa.overview){var d=n({x:a.touches[1].clientX,y:a.touches[1].clientY},{x:ab.startX,y:ab.startY});Math.abs(ab.startSpan-d)>ab.threshold&&(ab.captured=!0,d<ab.startSpan?G():H()),a.preventDefault()}else if(1===a.touches.length&&2!==ab.startCount){var e=b-ab.startX,f=c-ab.startY;e>ab.threshold&&Math.abs(e)>Math.abs(f)?(ab.captured=!0,ga()):e<-ab.threshold&&Math.abs(e)>Math.abs(f)?(ab.captured=!0,ha()):f>ab.threshold?(ab.captured=!0,ia()):f<-ab.threshold&&(ab.captured=!0,ja()),Qa.embedded?(ab.captured||K(Ia))&&a.preventDefault():a.preventDefault()}}}function pa(a){ab.captured=!1}function qa(a){a.pointerType===a.MSPOINTER_TYPE_TOUCH&&(a.touches=[{clientX:a.clientX,clientY:a.clientY}],na(a))}function ra(a){a.pointerType===a.MSPOINTER_TYPE_TOUCH&&(a.touches=[{clientX:a.clientX,clientY:a.clientY}],oa(a))}function sa(a){a.pointerType===a.MSPOINTER_TYPE_TOUCH&&(a.touches=[{clientX:a.clientX,clientY:a.clientY}],pa(a))}function ta(a){if(Date.now()-Wa>600){Wa=Date.now();var b=a.detail||-a.wheelDelta;b>0?la():ka()}}function ua(a){a.preventDefault();var b=m(document.querySelectorAll(Na)).length,c=Math.floor(a.clientX/Va.wrapper.offsetWidth*b);Q(c)}function va(a){a.preventDefault(),ga()}function wa(a){a.preventDefault(),ha()}function xa(a){a.preventDefault(),ia()}function ya(a){a.preventDefault(),ja()}function za(a){a.preventDefault(),ka()}function Aa(a){a.preventDefault(),la()}function Ba(a){_()}function Ca(a){C()}function Da(a){if(_a&&J()){a.preventDefault();for(var b=a.target;b&&!b.nodeName.match(/section/gi);)b=b.parentNode;if(b&&!b.classList.contains("disabled")&&(H(),b.nodeName.match(/section/gi))){var c=parseInt(b.getAttribute("data-index-h"),10),d=parseInt(b.getAttribute("data-index-v"),10);Q(c,d)}}}function Ea(a){var b=a.target.getAttribute("href");b&&(z(b),a.preventDefault())}var Fa,Ga,Ha,Ia,Ja,Ka,La,Ma=".reveal .slides section",Na=".reveal .slides>section",Oa=".reveal .slides>section.present>section",Pa=".reveal .slides>section:first-child",Qa={width:960,height:700,margin:.1,minScale:.2,maxScale:1,controls:!0,progress:!0,history:!1,keyboard:!0,overview:!0,center:!0,touch:!0,loop:!1,rtl:!1,fragments:!0,embedded:!1,autoSlide:0,mouseWheel:!1,rollingLinks:!1,previewLinks:!1,theme:null,transition:"default",transitionSpeed:"default",backgroundTransition:"default",viewDistance:3,dependencies:[]},Ra=!1,Sa=0,Ta=[],Ua=1,Va={},Wa=0,Xa=0,Ya=0,Za=0,$a=0,_a=!1,ab={startX:0,startY:0,startSpan:0,startCount:0,captured:!1,threshold:40};return{initialize:a,configure:i,sync:R,slide:Q,left:ga,right:ha,up:ia,down:ja,prev:ka,next:la,prevFragment:da,nextFragment:ca,navigateTo:Q,navigateLeft:ga,navigateRight:ha,navigateUp:ia,navigateDown:ja,navigatePrev:ka,navigateNext:la,layout:C,availableRoutes:X,availableFragments:Y,toggleOverview:I,togglePause:O,isOverview:J,isPaused:P,addEventListeners:j,removeEventListeners:k,getIndices:ba,getSlide:function(a,b){var c=document.querySelectorAll(Na)[a],d=c&&c.querySelectorAll("section");return"undefined"!=typeof b?d?d[b]:void 0:c},getPreviousSlide:function(){return Ha},getCurrentSlide:function(){return Ia},getScale:function(){return Ua},getConfig:function(){return Qa},getQueryHash:function(){var a={};return location.search.replace(/[A-Z0-9]+?=(\w*)/gi,function(b){a[b.split("=").shift()]=b.split("=").pop()}),a},isFirstSlide:function(){return null==document.querySelector(Ma+".past")},isLastSlide:function(){return Ia&&Ia.classList.contains(".stack")?null==Ia.querySelector(Ma+".future"):null==document.querySelector(Ma+".future")},isReady:function(){return Ra},addEventListener:function(a,b,c){"addEventListener"in window&&(Va.wrapper||document.querySelector(".reveal")).addEventListener(a,b,c)},removeEventListener:function(a,b,c){"addEventListener"in window&&(Va.wrapper||document.querySelector(".reveal")).removeEventListener(a,b,c)}}}();!function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+100*(c/d),g=Math.max(1-(1-a)/b*(100-f),a),h=j.substring(0,j.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return l[e]||(m.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",m.cssRules.length),l[e]=1),e}function d(a,b){var c,d,e=a.style;if(void 0!==e[b])return b;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;k.length>d;d++)if(c=k[d]+b,void 0!==e[c])return c}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;arguments.length>b;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a){return void 0===this?new h(a):void(this.opts=f(a||{},h.defaults,n))}function i(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}m.addRule(".spin-vml","behavior:url(#default#VML)"),h.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:j+" "+j,coordorigin:-i+" "+-i}),{width:j,height:j})}function g(a,g,h){b(l,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:i,height:d.width,left:d.radius,top:-d.width>>1,filter:h}),c("fill",{color:d.color,opacity:d.opacity}),c("stroke",{opacity:0}))))}var h,i=d.length+d.width,j=2*i,k=2*-(d.width+d.length)+"px",l=e(f(),{position:"absolute",top:k,left:k});if(d.shadow)for(h=1;d.lines>=h;h++)g(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;d.lines>=h;h++)g(h);return b(a,l)},h.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&e.childNodes.length>b+d&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var j,k=["webkit","Moz","ms","O"],l={},m=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),n={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};h.defaults={},f(h.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),k=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+k)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+k)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!j){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function a(){m++;for(var b=0;h.lines>b;b++)l=Math.max(1-(m+(h.lines-b)*r)%p*q,h.opacity),f.opacity(i,b*h.direction+n,l,h);f.timeout=f.el&&setTimeout(a,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*i+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var h,i=0,k=(f.lines-1)*(1-f.direction)/2;f.lines>i;i++)h=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:j&&c(f.opacity,f.trail,k+i*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(h,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(h,g(f.color,"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){a.childNodes.length>b&&(a.childNodes[b].style.opacity=c)}});var o=e(a("group"),{behavior:"url(#default#VML)"});return!d(o,"transform")&&o.adj?i():j=d(o,"animation"),h}),function(a){var b=function(a){var b=a.height();b>32&&(b*=.8),a.attr("data-spinner-size")&&(b=parseInt(a.attr("data-spinner-size"),10));var c=12,d=.2*b,e=.6*d,f=d<7?2:3;return new Spinner({color:"#fff",lines:c,radius:d,length:e,width:f,className:""})};a.fn.ladda=function(c,d){return a(this).each(function(){var e,f=a(this);"undefined"==typeof f.attr("data-ladda")?(f.find(".ladda-label").length<1&&f.wrapInner('<span class="ladda-label" />'),e=a('<span class="ladda-spinner" />'),f.append(e),f.attr("data-ladda","1")):e=f.find(".ladda-spinner");var g=b(f);if("string"==typeof c)switch(c){case"start":return clearTimeout(f.data("spinnerTimeout")),g.spin(e.get(0)),f.prop("disabled",!0).attr("data-loading","").ladda("setProgress",0);case"stop":return clearTimeout(f.data("spinnerTimeout")),f.find(".ladda-spinner").empty(),f.prop("disabled",!1).removeAttr("data-loading");case"destroy":clearTimeout(f.data("spinnerTimeout"));var h=f.find(".ladda-label"),i=h.html();return f.find(".ladda-spinner").empty(),h.empty(),f.html(i),f.prop("disabled",!1).removeAttr("data-loading").removeAttr("data-ladda");case"toggle":return f.ladda("isLoading")?f.ladda("stop"):f.ladda("start");case"setProgress":var j=f.find(".ladda-progress");return 0===d&&j.length>0?j.remove():(j.length<1&&(j=a('<div class="ladda-progress" />'),f.append(j)),j.width((d||0)*f.outerWidth())),f;case"enable":return f.ladda("stop");case"disable":return f.ladda("stop").prop("disabled",!0);case"isLoading":return void 0===typeof f.attr("data-loading");default:return f}else{var k=-1;f.click(function(){f.ladda("start"),c&&"number"==typeof c.timeout&&(clearTimeout(k),k=setTimeout(function(){f.ladda("stop")},c.timeout),f.data("spinnerTimeout",k)),c&&"function"==typeof c.callback&&c.callback.apply(null,[f])})}})}}(jQuery),function(a,b){"function"==typeof define&&define.amd?define(b):a.Meny=b()}(this,function(){"function"!=typeof Date.now&&(Date.now=function(){return(new Date).getTime()});var a={create:function(b){return function(){function c(b){a.extend(R,b),d(),e(),f(),g(),h(),i()}function d(){switch(B="",F="",menuAngle=R.angle,contentsAngle=R.angle/-2,R.position){case M:z="50% 0%",A="rotateX( "+menuAngle+"deg ) translateY( -100% ) translateY( "+R.overlap+"px )",E="50% 0",G="translateY( "+R.height+"px ) rotateX( "+contentsAngle+"deg )",C={top:"-"+(R.height-R.overlap)+"px"},D={top:"0px"},H={top:"0px"},I={top:R.height+"px"};break;case N:z="100% 50%",A="rotateY( "+menuAngle+"deg ) translateX( 100% ) translateX( -2px ) scale( 1.01 )",E="100% 50%",G="translateX( -"+R.width+"px ) rotateY( "+contentsAngle+"deg )",C={right:"-"+(R.width-R.overlap)+"px"},D={right:"0px"},H={left:"0px"},I={left:"-"+R.width+"px"};break;case O:z="50% 100%",A="rotateX( "+-menuAngle+"deg ) translateY( 100% ) translateY( -"+R.overlap+"px )",E="50% 100%",G="translateY( -"+R.height+"px ) rotateX( "+-contentsAngle+"deg )",C={bottom:"-"+(R.height-R.overlap)+"px"},D={bottom:"0px"},H={top:"0px"},I={top:"-"+R.height+"px"};break;default:z="100% 50%",A="translateX( -100% ) translateX( "+R.overlap+"px ) scale( 1.01 ) rotateY( "+-menuAngle+"deg )",E="0 50%",G="translateX( "+R.width+"px ) rotateY( "+-contentsAngle+"deg )",C={left:"-"+(R.width-R.overlap)+"px"},D={left:"0px"},H={left:"0px"},I={left:R.width+"px"}}}function e(){a.addClass(S.wrapper,"meny-"+R.position),ba.wrapper=S.wrapper.style.cssText,S.wrapper.style[a.prefix("perspectiveOrigin")]=E}function f(){S.cover&&S.cover.parentNode.removeChild(S.cover),S.cover=document.createElement("div"),S.cover.style.position="absolute",S.cover.style.display="block",S.cover.style.width="100%",S.cover.style.height="100%",S.cover.style.left=0,S.cover.style.top=0,S.cover.style.zIndex=1e3,S.cover.style.visibility="hidden",S.cover.style.opacity=0;try{S.cover.style.background="rgba( 0, 0, 0, 0.4 )",S.cover.style.background="-ms-linear-gradient("+R.position+","+R.gradient,S.cover.style.background="-moz-linear-gradient("+R.position+","+R.gradient,S.cover.style.background="-webkit-linear-gradient("+R.position+","+R.gradient}catch(a){}Q&&(S.cover.style[a.prefix("transition")]="all "+R.transitionDuration+" "+R.transitionEasing),S.contents.appendChild(S.cover)}function g(){var b=S.menu.style;switch(R.position){case M:b.width="100%",b.height=R.height+"px";break;case N:b.right="0",b.width=R.width+"px",b.height="100%";break;case O:b.bottom="0",b.width="100%",b.height=R.height+"px";break;case P:b.width=R.width+"px",b.height="100%"}ba.menu=b.cssText,b.position="fixed",b.display="block",b.zIndex=1,Q?(b[a.prefix("transform")]=A,b[a.prefix("transformOrigin")]=z,b[a.prefix("transition")]="all "+R.transitionDuration+" "+R.transitionEasing):a.extend(b,C)}function h(){var b=S.contents.style;ba.contents=b.cssText,Q?(b[a.prefix("transform")]=F,b[a.prefix("transformOrigin")]=E,b[a.prefix("transition")]="all "+R.transitionDuration+" "+R.transitionEasing):(b.position=b.position.match(/relative|absolute|fixed/gi)?b.position:"relative",a.extend(b,H))}function i(){"ontouchstart"in window&&(R.touch?(a.bindEvent(document,"touchstart",p),a.bindEvent(document,"touchend",r)):(a.unbindEvent(document,"touchstart",p),a.unbindEvent(document,"touchend",r))),R.mouse?(a.bindEvent(document,"mousedown",m),a.bindEvent(document,"mouseup",o),a.bindEvent(document,"mousemove",n)):(a.unbindEvent(document,"mousedown",m),a.unbindEvent(document,"mouseup",o),a.unbindEvent(document,"mousemove",n))}function j(){Z||_||(Z=!0,a.addClass(S.wrapper,"meny-active"),S.cover.style.height=S.contents.scrollHeight+"px",
S.cover.style.visibility="visible",Q?(a.bindEventOnce(S.wrapper,"transitionend",function(){a.dispatchEvent(S.menu,"opened")}),S.cover.style.opacity=1,S.contents.style[a.prefix("transform")]=G,S.menu.style[a.prefix("transform")]=B):(J&&J.stop(),J=a.animate(S.menu,D,500),K&&K.stop(),K=a.animate(S.contents,I,500),L&&L.stop(),L=a.animate(S.cover,{opacity:1},500)),a.dispatchEvent(S.menu,"open"))}function k(){Z&&!$&&(Z=!1,a.removeClass(S.wrapper,"meny-active"),Q?(a.bindEventOnce(S.wrapper,"transitionend",function(){a.dispatchEvent(S.menu,"closed")}),S.cover.style.visibility="hidden",S.cover.style.opacity=0,S.contents.style[a.prefix("transform")]=F,S.menu.style[a.prefix("transform")]=A):(J&&J.stop(),J=a.animate(S.menu,C,500),K&&K.stop(),K=a.animate(S.contents,H,500),L&&L.stop(),L=a.animate(S.cover,{opacity:0},500,function(){S.cover.style.visibility="hidden",a.dispatchEvent(S.menu,"closed")})),a.dispatchEvent(S.menu,"close"))}function l(){S.wrapper.style.cssText=ba.wrapper,S.menu.style.cssText=ba.menu,S.contents.style.cssText=ba.contents,S.cover&&S.cover.parentNode&&S.cover.parentNode.removeChild(S.cover),a.unbindEvent(document,"touchstart",p),a.unbindEvent(document,"touchend",r),a.unbindEvent(document,"mousedown",m),a.unbindEvent(document,"mouseup",o),a.unbindEvent(document,"mousemove",n);for(var b in ca)this.removeEventListener(ca[b][0],ca[b][1]);ca=[]}function m(a){aa=!0}function n(a){if(!aa){var b=a.clientX-T,c=a.clientY-U;switch(R.position){case M:c>R.height?k():c<R.threshold&&j();break;case N:var d=S.wrapper.offsetWidth;b<d-R.width?k():b>d-R.threshold&&j();break;case O:var e=S.wrapper.offsetHeight;c<e-R.height?k():c>e-R.threshold&&j();break;case P:b>R.width?k():b<R.threshold&&j()}}}function o(a){aa=!1}function p(b){V=b.touches[0].clientX-T,W=b.touches[0].clientY-U,X=null,Y=null,a.bindEvent(document,"touchmove",q)}function q(a){X=a.touches[0].clientX-T,Y=a.touches[0].clientY-U;var b=null;Math.abs(X-V)>Math.abs(Y-W)?X<V-R.threshold?b=u:X>V+R.threshold&&(b=t):Y<W-R.threshold?b=w:Y>W+R.threshold&&(b=v),b&&b()&&a.preventDefault()}function r(b){a.unbindEvent(document,"touchmove",q),null===X&&null===Y&&s()}function s(){var a=R.position===M&&W>R.height||R.position===N&&V<S.wrapper.offsetWidth-R.width||R.position===O&&W<S.wrapper.offsetHeight-R.height||R.position===P&&V>R.width;a&&k()}function t(){return R.position===N&&Z?(k(),!0):R.position!==P||Z?void 0:(j(),!0)}function u(){return R.position!==N||Z?R.position===P&&Z?(k(),!0):void 0:(j(),!0)}function v(){return R.position===O&&Z?(k(),!0):R.position!==M||Z?void 0:(j(),!0)}function w(){return R.position!==O||Z?R.position===M&&Z?(k(),!0):void 0:(j(),!0)}function x(a){return $="undefined"==typeof a||a,_&&(_=!1),!0}function y(a){return _="undefined"==typeof a||a,$&&($=!1),!0}if(!b||!b.menuElement||!b.contentsElement)throw"You need to specify which menu and contents elements to use.";if(b.menuElement.parentNode!==b.contentsElement.parentNode)throw"The menu and contents elements must have the same parent.";var z,A,B,C,D,E,F,G,H,I,J,K,L,M="top",N="right",O="bottom",P="left",Q="WebkitPerspective"in document.body.style||"MozPerspective"in document.body.style||"msPerspective"in document.body.style||"OPerspective"in document.body.style||"perspective"in document.body.style,R={width:300,height:300,position:P,threshold:40,angle:30,overlap:6,transitionDuration:"0.5s",transitionEasing:"ease",gradient:"rgba(0,0,0,0.20) 0%, rgba(0,0,0,0.65) 100%)",mouse:!0,touch:!0,stayOpen:!1},S={menu:b.menuElement,contents:b.contentsElement,wrapper:b.menuElement.parentNode,cover:null},T=S.wrapper.offsetLeft,U=S.wrapper.offsetTop,V=null,W=null,X=null,Y=null,Z=!1,$=!1,_=!1,aa=!1,ba={},ca=[];return c(b),{configure:c,open:j,close:k,destroy:l,stayOpen:x,stayClose:y,isOpen:function(){return Z},addEventListener:function(b,c){ca.push([b,c]),S.menu&&a.bindEvent(S.menu,b,c)},removeEventListener:function(b,c){S.menu&&a.unbindEvent(S.menu,b,c)}}}()},animate:function(a,b,c,d){return function(){function e(){var b=1-Math.pow(1-(Date.now()-j)/c,5);for(var h in g){var k=g[h];a.style[h]=k.start+(k.end-k.start)*b+k.unit}b<1?i=setTimeout(e,1e3/60):(d&&d(),f())}function f(){clearTimeout(i)}var g={};for(var h in b)g[h]={start:parseFloat(a.style[h])||0,end:parseFloat(b[h]),unit:"string"==typeof b[h]&&b[h].match(/px|em|%/gi)?b[h].match(/px|em|%/gi)[0]:""};var i,j=Date.now();return e(),{stop:f}}()},extend:function(a,b){for(var c in b)a[c]=b[c]},prefix:function(a,b){for(var c=a.slice(0,1).toUpperCase()+a.slice(1),d=["Webkit","Moz","O","ms"],e=0,f=d.length;e<f;e++){var g=d[e];if("undefined"!=typeof(b||document.body).style[g+c])return g+c}return a},addClass:function(a,b){a.className=a.className.replace(/\s+$/gi,"")+" "+b},removeClass:function(a,b){a.className=a.className.replace(b,"")},bindEvent:function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent("on"+b,c)},unbindEvent:function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent("on"+b,c)},bindEventOnce:function(a,b,c){var d=this,e=function(){d.unbindEvent(a,b,e),c.apply(this,arguments)};this.bindEvent(a,b,e)},dispatchEvent:function(b,c,d){if(b){var e=document.createEvent("HTMLEvents",1,2);e.initEvent(c,!0,!0),a.extend(e,d),b.dispatchEvent(e)}},getQuery:function(){var a={};return location.search.replace(/[A-Z0-9]+?=([\w|:|\/\.]*)/gi,function(b){a[b.split("=").shift()]=b.split("=").pop()}),a}};return a});var XDS=function(a){this.targetDomain=a||"http://localhost/reportsToDropbox",this.serverUrl=this.targetDomain+"/scripts/lib/xds-server/xds-server.html",this.server=!1,this.serverFrame=!1,this._id=0,this.elemID="xdsJotformIframe",this.callbacks=[],this.queue=[],this.init()};XDS.prototype={constructor:XDS,init:function(){if(!this.server&&!this.serverFrame){window.document.getElementById(this.elemID)&&window.document.getElementById(this.elemID).remove(),this.serverFrame=window.document.createElement("iframe"),this.serverFrame.style.position="absolute",this.serverFrame.style.left=this.serverFrame.style.top="-999",this.serverFrame.style.display="none",this.serverFrame.id=this.elemID;var a=this;window.addEventListener?window.addEventListener("message",function(b){a.onMessage(b)},!1):window.attachEvent("onmessage",function(b){a.onMessage(b)}),window.document.body.appendChild(this.serverFrame),this.serverFrame.src=this.serverUrl}},onMessage:function(a){if(!a.data||!String(a.data).match(/setHeight/))return response=JSON.parse(a.data),response.ready===!0?(this.server=this.serverFrame.contentWindow,void this.processQueue()):void("get"===response.type?"undefined"!=typeof this.callbacks[response._xds]&&this.callbacks[response._xds](response.val,response):"set"===response.type?"undefined"!=typeof this.callbacks[response._xds]&&this.callbacks[response._xds](response):"del"===response.type&&"undefined"!=typeof this.callbacks[response._xds]&&this.callbacks[response._xds](response))},processQueue:function(){if(this.queue){if(!this.server)return void this.init();for(;this.queue.length>0;)this.server.postMessage(JSON.stringify(this.queue.shift()),"*")}},post:function(a,b){this._id++,a._xds=this._id,"undefined"!=typeof b&&null!==b&&b!==!1&&(this.callbacks[this._id]=b),this.server?this.server.postMessage(JSON.stringify(a),"*"):(this.queue.push(a),this.init())},getItem:function(a,b){this.post({type:"get",key:a},b)},setItem:function(a,b,c){this.post({type:"set",key:a,val:b},c)},removeItem:function(a,b){this.post({type:"del",key:a},b)},getObject:function(a,b){this.getItem(a,function(a,c){b(a&&JSON.parse(a),c)})},setObject:function(a,b,c){this.setItem(a,JSON.stringify(b),c)},removeObject:function(a,b){this.removeItem(a,b)}};var Popup=function(a,b,c){this.url=a,this.title=b,this.options=c,this.popup=window.open(this.url,this.title,this.options),this.errorMsg="Please disable pop-up blocker in your browser to complete integration.",this.testAndOpenPopup=function(){this.popup&&!this.popup.closed&&"undefined"!=typeof this.popup&&"undefined"!=typeof this.popup.closed||this.alertUser()},this.alertUser=function(){alert(this.errorMsg)};var d=this;setTimeout(d.testAndOpenPopup.call(d),1e3)},_e2D_AccountModel=Backbone.Model.extend({defaults:{user_data:null},initialize:function(){}}),_e2D_ModalView=Backbone.View.extend({initialize:function(){},savingReportError:function(){var a=this;a.showGenericDialog({content:"Something went wrong when<br/>saving the report."},{buttons:[{id:"#modal-resave-report",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Resave Report",handler:function(b){$(b).bind("click",function(){return $(this).unbind("click"),a.closeErrorDialog(),a.global.pickerView.pick_el.ladda("destroy"),!1})}}]})},showGenericDialog:function(a,b){a.subcontent="undefined"==typeof a.subcontent?"Please try again":a.subcontent?a.subcontent:"",this.global.mainpageView.modal.avgrund("show",{height:200,closeByEscape:!1,showClose:!1,closeByDocument:!1,content:renderTemplate("popin-error-content-template.html",a),footer:renderTemplate("popin-error-footer-template.html",b)}),"undefined"!=typeof b&&_.each(b,function(a,b){"buttons"===b&&_.each(a,function(a,b){a.handler(a.id)})}),Backbone.trigger("error:dialog")},closeErrorDialog:function(a){this.global.mainpageView.modal.avgrund("close",{onUnload:a})}}),_e2D_PickerModel=Backbone.Model.extend({defaults:{user_data:null,form_data:null,report_data:null},initialize:function(){}}),_e2D_AccountView=Backbone.View.extend({initialize:function(){this._acc_storage="_r2D_userData"},removeJFUserData:function(a){JF.logout(),$.jStorage.deleteKey(this._acc_storage),a&&a()},checkJFUserData:function(a){var b=this,c=$.jStorage.get(b._acc_storage);a&&a.call(b,c)},handleUserFromBackground:function(a){this.handleAccount(JSON.parse(a),function(a){})},handleAccount:function(a,b){var c=this,d={action:"handleAccount",username:a.username,email:a.email,key:JF.getAPIKey()};$.ajax({url:"server.php",method:"POST",data:d,success:function(d){delete d.user_data.jotform_username,delete d.user_data.jotform_email;var e=JSON.stringify(array_merge(a,d.user_data));c.setAccountObject(e),b&&b({status:"success",message:d.message,data:e})},error:function(a){throw new Error("Something went wrong handling account")}})},handleJFUser:function(a){var b=this;JF.getUser(function(c){if(delete c.senderEmails,"active"!==String(c.status).toLowerCase())throw new Error("User is not ACTIVE anymore");b.handleAccount(c,function(b){a&&a(b)})},function(a){throw"Something went wrong when fetching User data with message:"+a})},userHasAccesstoken:function(a){var b=this.global.accountModel.get("user_data"),c=b.dropbox_data,d=!0;c&&""!=c&&0!=c.length&&"undefined"!=typeof c||(d=!1),a&&a.call(this,d)},setUserDropboxData:function(a,b){var c=this.global.accountModel.get("user_data");c.dropbox_data=a,this.setAccountObject(JSON.stringify(c)),b&&b.call(this)},setAccountObject:function(a){var b=IsJsonString(a)?JSON.parse(a):a;"string"==typeof b.dropbox_data&&""!==b.dropbox_data&&IsJsonString(b.dropbox_data)&&(b.dropbox_data=JSON.parse(b.dropbox_data)),$.jStorage.set(this._acc_storage,JSON.stringify(b),{TTL:864e5}),this.global.accountModel.set("user_data",b)},setSuccessCustomMessage:function(a){var b=$("#reportSuccessLabel");a&&""!=a?b.html(a):b.empty()},handleFirstIntegration:function(a){var b=this.global.accountModel.get("user_data");$("#reportSuccessLabel");this.setSuccessCustomMessage(!1),1==b.first_integration&&(this.setSuccessCustomMessage("<br/>Because this is your first integration.<br/>A sample report has been added to your Dropbox."),b.first_integration=0,this.setAccountObject(JSON.stringify(b))),a&&a()}}),_e2D_PickerView=Backbone.View.extend({el:"#picker-container",events:{"click .picker-btn":"pick","click .back-btn":"back","click #reloadFolders":"reloadFolders"},initialize:function(){var a=this;this.list_type="excel",a.main_template=renderTemplate("picker-container-template.html"),Backbone.on("call-picker-view",function(){a.once("onrender-main",function(){Reveal.initialize({controls:!1,keyboard:!1,history:!1,touch:!1,overview:!1,transition:"default"}),a.pick(null,$("#integrate_now-btn")),Backbone.trigger("call-dropboxfolders-view")}),a.renderMain()}),a.modalView=new _e2D_ModalView},renderMain:function(){return this.$el.html(this.main_template),this.trigger("onrender-main"),this},showSlide:function(a){if("string"!=typeof a)throw new Error("showSlide() first` parameter must be a string");return Reveal.slide(this.getSlideIndex(a))},isSlideExist:function(a){return $("#"+a).length>0},addSlide:function(a,b,c,d){var e=this,f="templates/";if("string"!=typeof a)throw new Error("addSlide() first parameter must be a string");if("string"!=typeof b)throw new Error("addSlide() second parameter must be a string");$.post(f+c,function(c){"before"==a?$("#"+b).before(c):"after"==a&&$("#"+b).after(c),Reveal.slide(),d&&d(e,c)})},addSlideBefore:function(a,b,c){this.addSlide("before",a,b,c)},addSlideAfter:function(a,b,c){this.addSlide("after",a,b,c)},removeSlide:function(a,b){if("string"!=typeof a)throw new Error("removeSlide() first parameter must be a string");$("#"+a).remove(),Reveal.slide(),b&&b(this)},getSlideIndex:function(a){return $("#"+a,this.$el).index()},updateNavigator:function(a,b,c){if("string"!=typeof b)throw new Error("updateNavigator() second parameter must be a string");if("string"!=typeof c)throw new Error("updateNavigator() second parameter must be a string");var d=$("#"+a+" a.back-btn span.navigator-name");"undefined"!=typeof b&&d.text(b),"undefined"!=typeof c&&d.data("target",c)},renderPreview:function(a){var b=this,c=this.global.pickerModel.toJSON();c.user_data=this.global.accountModel.get("user_data");var d=renderTemplate("finalize-data-template.html",c);$("#finalize-data").html(d),a&&a.call(b)},proceedReadingReports:function(a){var b=this,c={orderby:"id",direction:"DESC",filter:{status:"ENABLED"}},d=this.global.pickerModel.get("form_data").id;try{b.global.formView.hasReports(d,c,function(c){if(c===!1)throw b.modalView.showGenericDialog({content:"No Excel Reports found"},{buttons:[{id:"#modal-create-excel",class:"pure-button pure-button-medium pure-blue pure-upper h30",text:"Create Excel Report",handler:function(c){$(c).bind("click",function(){return b.createReportDialog.call(b,$(this),a),!1})}},{id:"#modal-repick-form",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Repick Form",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),b.modalView.closeErrorDialog(),b.pick_el.ladda("destroy"),!1})}}]}),new Error("no excel reports found");b.global.formView.getLastSubmission(d,function(d){if(d!==!1){var e=b.global.pickerModel.get("form_data"),f=array_merge(e,d);b.global.pickerModel.set("form_data",f)}a&&a.call(b,c)})})}catch(a){throw b.modalView.showGenericDialog({content:a},{buttons:[{id:"#modal-close-form",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Try Again",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),b.modalView.closeErrorDialog(),b.pick_el.ladda("destroy"),!1})}}]}),new Error(a)}},formPicker:function(a,b){var c=this;JF.FormPicker({title:"Pick your Form where reports will come from",showPreviewLink:!0,sort:"created_at",sortType:"DESC",multiSelect:!1,inifinite_scroll:!0,search:!0,onSelect:function(b){var d=b[0],e=(d.id,c.global.pickerModel.get("form_data"));e&&(d=array_merge(e,d)),c.global.pickerModel.set("form_data",d),c.proceedReadingReports(a)},onClose:b})},getAllFormQuestions:function(a,b){var c=["control_head","control_button","control_pagebreak","control_collapse","control_text"];JF.getFormQuestions(a,function(a){var d=[];_.each(a,function(a,b){c.indexOf(a.type)<0&&d.push(a.qid)}),b&&b.call(self,d)})},createReportDialog:function(a,b){var c=prompt("Please enter your Report name:\nNote: All questions in your form will be included.",""),d=confirm("Are you sure you want to create ["+c+"] report?");if(!d)return!1;a.attr("disabled",!0),a.siblings("#modal-repick-form").attr("disabled",!0);var e=this,f=a.parents(".avgrund-popin").find(".avgrund-content").find(".text-content");f.html('Creating report<p style="margin: 0px;padding-top: 5px;font-size: 18px;">please wait...</p>');var g=this.global.pickerModel.get("form_data").id,h=["ip","dt"],i={};return e.getAllFormQuestions(g,function(a){h=array_merge(h,a),i={title:c,list_type:e.list_type,fields:h.join(",")},JF.createReport(g,i,function(a){e.modalView.closeErrorDialog(function(){e.modalView.showGenericDialog({content:a.title+"<br/>Successfully created!<br/>",subcontent:'<a id="'+a.id+'" href="'+a.url+'" target="_blank">Preview(open new tab)</a>'},{buttons:[{id:"#modal-close-form",class:"pure-button pure-button-medium pure-blue pure-upper h30",text:"Continue",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),e.modalView.closeErrorDialog(),e.proceedReadingReports(b),!1})}}]})})},function(){})}),!1},reportPicker:function(a,b,c){var d=this;JF.ReportPicker(a,{title:"Pick your Report that will be sent to Dropbox",offset:0,limit:5,sort:"created_at",sortType:"ASC",showPreviewLink:!0,initial_data:d.global.formView.form_reports,multiSelect:!1,onSelect:function(a){var c=a[0],e=c.id;"string"==typeof c.settings&&""!==c.settings&&IsJsonString(c.settings)&&(c.settings=JSON.parse(c.settings));var f=d.global.pickerModel.get("report_data");f&&(c=array_merge(f,c)),d.global.pickerModel.set("report_data",c),d.global.reportView.alreadyInQueue(c,function(a){if(a!==!1)throw d.modalView.showGenericDialog({content:"Selected Report<br/>is already added to List"},{buttons:[{id:"#modal-repick-report",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Repick Report",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),d.modalView.closeErrorDialog(),d.pick_el.ladda("destroy"),!1})}}]}),new Error("Selected report is already added to list");b&&b.call(d,e)})},onClose:c})},dropbox_auth_finish:function(a){var b={user:JSON.parse(a)};Backbone.trigger("dropbox:auth:finished",b)},dropboxAuth:function(a){var b=this,c=b.global.mainpageView.getHTTPURL(),d="width=620,height=525,status=0,location=1,toolbar=0,scrollbars=1,resizable=1";Backbone.once("dropbox:auth:finished",function(c){if(!c)throw new Error("Error occured when connecting Dropbox. Please try again");b.global.accountView.setUserDropboxData(c),b.global.dropboxfoldersView.refresh(),a&&a.call(b,c)});var e=new Popup(c+"api/","view",d),f=window.setInterval(function(){e.popup&&e.popup.closed!==!1&&(window.clearInterval(f),b.pick_el.ladda("destroy"))},500)},reveal:function(a){if("undefined"==typeof Reveal)throw new Error("Reveal library is missing");"next"===a?Reveal.right():"prev"===a?Reveal.left():Reveal.slide(a)},delay:function(a,b){var c=this;setTimeout(function(){b.call(c)},a)},back:function(a){var b=$(a.target),c=b.data("target");return this.showSlide(c),!1},pick:function(a,b){var c=this,d=b?$(b):$(a.target),e=d.attr("data-pickertype");switch(c.pick_el=d,"undefined"==typeof d.attr("data-ladda")&&d.hasClass("ladda-button")&&d.ladda("start"),e){case"proceed":this.delay(500,function(){c.global.accountView.userHasAccesstoken(function(a){d.ladda("destroy"),a===!0?(Reveal.addEventListener("slidechanged",function(a){a.indexh==c.getSlideIndex("select-form")&&c.delay(500,function(){$(".slides",c.$el).addClass("vs")})}),c.showSlide("select-form")):(c.showSlide("connect-dropbox"),$(".slides",c.$el).addClass("vs"))})});break;case"dropbox":this.dropboxAuth(function(a){a!==!1?this.delay(1e3,function(){d.ladda("destroy"),this.showSlide("select-form"),Backbone.trigger("picked:dropbox")}):d.ladda("destroy")});break;case"form":this.formPicker(function(){d.ladda("destroy"),this.showSlide("select-report"),Backbone.trigger("picked:form")},function(){d.ladda("destroy")});break;case"report":var f=this.global.pickerModel.get("form_data").id;this.reportPicker(f,function(){c.global.filesView.setFilenameDefault(c.global.pickerModel.get("report_data").title),c.global.pickerModel.get("report_data").isProtected===!0?(c.updateNavigator("select-upload-folder","Repick Password","set-password"),c.delay(500,function(){d.ladda("destroy"),this.showSlide("set-password")})):(c.updateNavigator("select-upload-folder","Repick Report","select-report"),c.delay(500,function(){d.ladda("destroy"),this.showSlide("select-upload-folder")}))},function(){d.ladda("destroy")});break;case"confirmpassword":var g=c.global.reportView.getPasswordFromElement();""!=g&&g?(c.global.reportView.setPassword(g),c.delay(500,function(){d.ladda("destroy"),this.showSlide("select-upload-folder")})):c.modalView.showGenericDialog({content:"Sorry but in order to proceed<br/>we need that password.",subcontent:!1},{buttons:[{id:"#modal-ask-password",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Re-type password",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),c.modalView.closeErrorDialog(),c.pick_el.ladda("destroy"),!1})}}]});break;case"folderpath":c.global.dropboxfoldersView.getSelectedPath(function(a){if(!a)return c.modalView.showGenericDialog({content:"Folder path is missing<br/>please select a folder"},{buttons:[{id:"#modal-close-form",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Try Again",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),c.modalView.closeErrorDialog(),c.pick_el.ladda("destroy"),!1})}}]}),!1;var b=c.global.pickerModel.get("report_data");b.filepath=a,b.filename=c.global.filesView.getFilename(),b.report_password=c.global.reportView.getPassword(),c.global.pickerModel.set("report_data",b),c.renderPreview(function(){this.delay(500,function(){d.ladda("destroy"),this.showSlide("confirm-all")})})});break;case"confirm":Backbone.on("report:completed",function(){d.ladda("destroy")}),c.global.mainpageView.isEditMode()?c.global.reportView.updateReport(function(){c.global.mainpageView.removeEditMode()}):c.global.reportView.saveReport();break;case"back-main":c.showSlide("select-form")}},reloadFolders:function(a){this.global.dropboxfoldersView.refresh()}}),_e2D_FormView=Backbone.View.extend({initialize:function(){this.form_reports=!1},hasReports:function(a,b,c){var d=this;"function"==typeof b&&(c=b,b=null),d.global.reportView.getJFFormReports(a,b,function(a){var b=!1;a&&(d.form_reports=a,b=!0),c&&c.call(d,b)})},getSubmissions:function(a,b,c){var d=this;"function"==typeof b&&(c=b,b=null),JF.getFormSubmissions(a,b,function(a){var b=!1;a.length>0&&(b=a),c&&c.call(d,b)},function(){throw"Something went wrong when fetching submissions from form ID: "+a})},getLastSubmission:function(a,b){this.getSubmissions(a,{limit:1,orderby:"created_at"},function(c){var d={};if(c===!1)throw d=!1,"No submission data from form ID: "+a;_.each(c,function(a,b){d.last_submission_id="#SampleSubmissionID"!=a.id&&a.id,d.last_submission_created_at="#SampleSubmissionID"!=a.id&&a.created_at}),b&&b.call(self,d)})}}),_e2D_ReportView=Backbone.View.extend({initialize:function(){this.modalView=new _e2D_ModalView,this.report_password=!1,this.valid_list_types=["excel","csv"]},alreadyInQueue:function(a,b){var c=this;$.ajax({url:"server.php",method:"POST",data:{action:"checkReport",report:JSON.stringify(a)},success:function(a){b&&b.call(c,a.isExisted)},error:function(b){throw new Error("Something went wrong when verifying report with an ID of "+a.id)}})},getJFFormReports:function(a,b,c){var d=this;JF.getFormReports(a,b,function(a){var b=!1;a.length>0&&(b=d.filterLists(a)),c&&c.call(d,b)},function(){throw"Something went wrong when fetching Reports"})},filterLists:function(a){var b=this;return _.each(a,function(c,d){_.contains(b.valid_list_types,c.list_type)||a.splice(d,1)}),a},fetchReports:function(a){var b=this;$.ajax({url:"server.php",method:"POST",data:{action:"getReports"},success:function(c){a&&a.call(b,c)},error:function(a){throw new Error("Something went wrong when fetching all user reports")}})},ajaxReport:function(a,b){var c=this;$.ajax({url:"server.php",method:"POST",data:a,success:function(a){c.global.pickerView.delay(1e3,function(){this.global.pickerModel.clear(),this.global.sidebarView.redraw(),this.global.accountView.handleFirstIntegration(function(){c.global.pickerView.reveal("next")})})},error:function(a){c.modalView.savingReportError();var b=JSON.parse(a.responseText).message;throw new Error("Something went wrong saving the report with message: "+b)},complete:function(){Backbone.trigger("report:completed"),b&&b()}})},saveReport:function(a){var b=this,c=this.global.pickerModel.get("form_data"),d=this.global.pickerModel.get("report_data");c&&d||b.modalView.showGenericDialog({content:"We are unable to save the report"},{buttons:[{id:"#modal-retry",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Try Again",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),b.modalView.closeErrorDialog(),b.global.pickerView.pick_el.ladda("destroy"),!1})}}]});var e={action:"saveReport",form:c?JSON.stringify(c):"",report:d?JSON.stringify(d):""};this.ajaxReport(e,a)},updateReport:function(a){var b={action:"updateReport",form:JSON.stringify(this.global.pickerModel.get("form_data")),report:JSON.stringify(this.global.pickerModel.get("report_data"))};this.ajaxReport(b,a)},getPassword:function(){var a=this.global.pickerModel.get("report_data");return!!a.isProtected&&this.report_password},setPassword:function(a){var b=this.global.pickerModel.get("report_data");this.report_password=!!b.isProtected&&a},getPasswordFromElement:function(){return $("#report_password",$("#set-password")).val()},emptyPasswordElemet:function(){$("#report_password",$("#set-password")).val("")}}),_e2D_DropboxFoldersView=Backbone.View.extend({el:"#dropbox-folders",initialize:function(){var a=this;a.settings={loadMessage:"Loading...",root:"/",expandSpeed:500,collapseSpeed:500,expandEasing:null,collapseEasing:null,multiFolder:!0},a.selectedPath="",a.errored=!1,a.foldersFetched=!1,a.requestOnProgress=!1,Backbone.on("call-dropboxfolders-view",function(){Backbone.once("complete:getfolders",function(){a.flagFoldersFetched(),a.hideLoading()}),a.start()}),Backbone.on("picked:report",function(){a.hasError()&&a.flagError(!0)}),a.modalView=new _e2D_ModalView},bindFolderTree:function(a){var b=this;b.settings;$("li a",a).bind("dblclick",function(){var a=$(this).siblings(".tree-icons");if(a.hasClass("expanded"))return!1;if(a.hasClass("directory")){var c=$(this).parent();if(a.hasClass("collapsed")){$("ul",c).remove();var d=$(this).attr("rel");b.displayFolderTree(c,d,function(){b.expandFolder(c),b.bindFolderTree(c)})}else $("ul",c).slideUp("fast"),b.collapseFolder(c)}return!1}),$("li a",a).bind("click",function(){return $("a",$(".jFileTree")).removeClass("selected"),$(this).toggleClass("selected"),b.selectedPath=$(this).attr("rel"),!1})},getSelectedPath:function(a){a&&a(this.selectedPath)},expandFolder:function(a){$(".tree-icons:eq(0)",a).removeClass("collapsed").addClass("expanded")},collapseFolder:function(a){$(".tree-icons:eq(0)",a).removeClass("expanded").addClass("collapsed")},showError:function(a,b){var c=this;$(".errors",a).text(b).fadeIn("slow",function(){var b=this;c.collapseFolder(a),setTimeout(function(){$(b).fadeOut("slow").empty()},2e3)})},parseContent:function(a){return renderTemplate("dropboxFolderView.html",{folders:a})},displayFolderTree:function(a,b,c){var d=this,e=d.settings,f=!1;$(".tree-icons",a)&&(f=!0,$(".tree-icons",a).addClass("wait")),this._request&&this._request.abort(),this._request=$.ajax({url:"server.php",method:"POST",timeout:3e4,data:{action:"getDropboxFolders",dir:b},success:function(g){if(f&&$(".tree-icons",a).removeClass("wait"),"error"==g.status){var h=["not found","not belong "];g.content.toLowerCase().indexOf(h)>-1?d.flagError(!1):d.showError(a,g.content)}else a.append(d.parseContent(g.content)),e.root==b?a.find("ul:hidden").show():a.find("ul:hidden").slideDown("fast");d.removeError(),c&&c()},error:function(e){"timeout"==e.statusText&&(d.flagError(!1),d.displayFolderTree(a,b,c))},complete:function(){Backbone.trigger("complete:getfolders")}})},waitUntilExists:function(a,b){var c=setInterval(function(){$(a).length&&(clearInterval(c),b&&b(a))},500)},start:function(){var a=this;a.waitUntilExists($(this.$el.selector),function(b){a.displayFolderTree(b,a.settings.root,function(){a.bindFolderTree(b)})})},refresh:function(){var a=this;this.hasError()?this.flagError(!0):(Backbone.once("complete:getfolders",function(){a.hideLoading(),a.flagFoldersFetched(),a.hasError()&&a.flagError(!0)}),$(this.$el.selector).empty(),this.showLoading(),this.start())},flagError:function(a){var b=this;return b.errored=!0,!!a&&(Backbone.once("picked:dropbox",function(){b.removeError(),Reveal.slide(3)}),void b.modalView.showGenericDialog({content:"We're unable to process your registered Dropbox account.<br/>"},{buttons:[{id:"#modal-reauthenticate",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"Re-authenticate",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),b.modalView.closeErrorDialog(),b.global.pickerView.pick_el.ladda("destroy"),Reveal.slide(0),!1})}}]}))},removeError:function(){this.errored=!1},hasError:function(){return this.errored},flagFoldersFetched:function(){this.foldersFetched=!0},isFoldersFetched:function(){return this.foldersFetched},flagRequestOnProgress:function(){this.requestOnProgress=!0},isRequestOnProgress:function(){return this.requestOnProgress},doneRequest:function(){this.requestOnProgress=!1},showLoading:function(){$(".loading-center").show()},hideLoading:function(){$(".loading-center").hide()},toggleLoading:function(){$(".loading-center").toggleClass("dn")}}),_e2D_FilesView=Backbone.View.extend({el:".report-file-modification",initialize:function(){var a=this;a.modifiedFilename=""},getFilename:function(){return $("#filename",$(this.$el.selector)).val()},setFilenameDefault:function(a){$("#filename",$(this.$el.selector)).val(a)}}),_e2D_SidebarView=Backbone.View.extend({el:".sidebar-list",events:{"click .remove-list":"removeReport","click .edit-list":"editReport","click #logout":"logout","mouseover .sidebar-actions-icons":"highlightSibling","mouseout .sidebar-actions-icons":"highlightSibling"},initialize:function(){var a=this;Backbone.on("call-sidebar-view",function(){a.start()}),a.modalView=new _e2D_ModalView},start:function(){this.on("onrender",function(){this.initializeMenymenu(),$(".reports-list-cont").perfectScrollbar()}),this.render()},redraw:function(a){this.render(a||!1)},render:function(a){var b=this,a=a||!1;b.global.reportView.fetchReports(function(c){if(200==c.code){var d={user_reports:c.reports||!1},e={user_data:b.global.accountModel.get("user_data")||!1};a||$("#account-details",b.$el).html(renderTemplate("account-details-template.html",e)),$("#reports-list",b.$el).html(renderTemplate("report-list-template.html",d)),b.trigger("onrender")}})},initializeMenymenu:function(){return!this.meny&&(this.meny=Meny.create({menuElement:$(".meny-menu")[0],contentsElement:$(".meny-contents")[0],showOverlay:!1,position:"right",height:200,width:320,threshold:40,gradient:"none",mouse:!0,touch:!0}),void $("body").css("background-color",$(".meny-menu").css("background-color")))},highlightSibling:function(a){var b=$(a.target,this.$el);b.toggleClass("spinSmall spinSmallDefault"),b.siblings("a").toggleClass("a-hover")},logout:function(a){var b=this;return $.ajax({url:"server.php",method:"POST",data:{action:"logout"},success:function(a){a.success&&b.global.accountView.removeJFUserData(function(){window.location.href=window.base})},error:function(a){throw new Error("Something went wrong when user is being logout.  "+a)}}),!1},editReport:function(a){var b=this,c=$(a.target,this.$el),d=c.attr("data-rid").split("_")[0],e=(b.global.accountModel.get("user_data").id,b.global.dropboxfoldersView);b.global.mainpageView.setEditMode(),c.addClass("spinInfinite"),e.hasError()?e.flagError(!0):(e.isFoldersFetched()||($(e.$el.selector).empty(),e.showLoading(),e.start()),$.getJSON("server.php?action=getSingleReport&rid="+d+"&withForm=1",function(a){var d=a.reports;Backbone.once("start:getform",function(){
JF.getForm(d.jotform_formid,function(a){a.last_submission_created_at=d.last_submission_created_at,a.last_submission_id=d.last_submission_id,a.local_id=d.fid,a.local_uid=d.uid,b.global.pickerModel.set("form_data",a);var f={id:d.jotform_rid,title:d.jotform_title,url:d.jotform_url,filepath:d.filepath,filename:d.filename};f.local_id=d.id,f.local_fid=d.fid,f.local_uid=d.uid,d.isProtected&&(f.isProtected=!0),b.global.pickerModel.set("report_data",f),b.global.pickerView.showSlide("select-upload-folder"),b.global.filesView.setFilenameDefault(d.filename),d.isProtected&&b.global.reportView.setPassword(":default:");var g=d.filepath.split("/"),h="";g.splice(0,1);var i=0,j=!1,k=function(){if(!j)if(""!=g[i]||"undefined"!=typeof g[i]){var a=$(e.$el.selector+' li a[rel="/'+h+g[i]+'"]');i==g.length-1?(a.click(function(){j=!0;var b=$(a).offset().top-$(e.$el.selector).offset().top;$(".report-path-inner").animate({scrollTop:b-$(".report-path-inner").height()/2})}),setTimeout(function(){a.click()},500)):(a.dblclick(function(){if(j)return!1;$(this).siblings(".tree-icons").hasClass("expanded")&&Backbone.trigger("complete:getfolders");var b=$(a).offset().top-$(e.$el.selector).offset().top;$(".report-path-inner").animate({scrollTop:b-$(".report-path-inner").height()/2})}),a.dblclick())}else i++,k()};Backbone.on("complete:getfolders",function(){"undefined"==typeof g[i]||e.hasError()||(h+=String(g[i]+"/"),i++,k())}),e.waitUntilExists($(e.$el.selector),function(a){k()}),c.removeClass("spinInfinite")})}),d.isProtected?b.global.pickerView.updateNavigator("select-upload-folder","Repick Password","set-password"):b.global.pickerView.updateNavigator("select-upload-folder","Repick Report","select-report"),Backbone.trigger("start:getform")}))},removeReport:function(a){var b=this,c=function(){b.modalView.closeErrorDialog(),b.meny.stayOpen(!1)};b.once("report:removed:confirmation",function(d){if(!d)return c(),!1;var e=$(a.target,b.$el),f=e.attr("data-rid").split("_")[1],g=b.global.accountModel.get("user_data").id;e.addClass("spinInfinite"),$.ajax({url:"server.php",method:"POST",data:{action:"removeReport",userID:g,reportID:f},success:function(a){e.removeClass("spinInfinite"),b.redraw(!0)},error:function(a){throw new Error("Something went wrong when removing report with message "+a)},complete:function(){c()}})}),b.meny.stayOpen(),b.modalView.showGenericDialog({content:"Are you sure you want<br>to delete this report?",subcontent:"This can't be undone"},{buttons:[{id:"#modal-confirm-yes",class:"pure-button pure-button-medium pure-blue pure-upper h30",text:"Yes",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),b.trigger("report:removed:confirmation",!0),!1})}},{id:"#modal-confirm-no",class:"pure-button pure-button-medium pure-red pure-upper h30",text:"No",handler:function(a){$(a).bind("click",function(){return $(this).unbind("click"),b.trigger("report:removed:confirmation",!1),!1})}}]})}}),_e2D_MainpageView=Backbone.View.extend({el:"#main_page_container",events:{"click #integrate_now-btn":"integrateNow"},initialize:function(){this.isReportEditing=!1,Backbone.on("call-mainpage-view",function(){})},integrateNow:function(){var a=this;$("#application_landing",this.$el).slideUp("slow",function(){a.start()})},start:function(){var a=this;try{a.modal=$("#loading-modal"),this.global.accountView.checkJFUserData(function(b){b?(this.setAccountObject(b),this.handleUserFromBackground(b),Backbone.trigger("call-picker-view"),Backbone.trigger("call-sidebar-view")):(a.modal.avgrund("show",{height:200,closeByEscape:!1,showClose:!1,closeByDocument:!1,content:'<div class="pop-up-loading-state"><div id="pop-up-loading-text">Verifying user<br/>please wait<span>.</span><span>.</span><span>.</span></div></div>'}),this.handleJFUser(function(b){"success"==b.status?(a.modal.avgrund("close"),Backbone.trigger("call-picker-view"),Backbone.trigger("call-sidebar-view")):a.modal.avgrund("show",{content:"Something went wrong when verifying account, please reload the page"})}))})}catch(a){}},getHTTPURL:function(){return String(window.location.protocol+"//"+window.location.host+window.location.pathname)},isEditMode:function(){return this.isReportEditing},setEditMode:function(){this.isReportEditing=!0},removeEditMode:function(){this.isReportEditing=!1}});$(window).load(function(){if(JF&&"object"==typeof JF&&Backbone&&"object"==typeof Backbone){_.extend(Backbone,Backbone.Events);var a={};Backbone.View.prototype.global=a,Backbone.Model.prototype.global=a,Backbone.Router.prototype.global=a,a.sidebarView=new _e2D_SidebarView,a.mainpageView=new _e2D_MainpageView,a.accountModel=new _e2D_AccountModel,a.accountView=new _e2D_AccountView,a.pickerModel=new _e2D_PickerModel,a.pickerView=new _e2D_PickerView,a.formView=new _e2D_FormView,a.reportView=new _e2D_ReportView,a.dropboxfoldersView=new _e2D_DropboxFoldersView,a.filesView=new _e2D_FilesView;var b=function(){this.initJF=function(a){var b=this;if(JF.init({enableCookieAuth:!1,appName:"Excel2Dropbox",accesType:"readOnly"}),JF.getAPIKey())a&&a.call(b);else{JF.login(function(){a&&a.call(b)},function(a){})}},this.require=function(a){if(a.length>0)for(x in a)Backbone.trigger("call-"+a[x])},this.init=function(){var b=this;a.mainpageView.getHTTPURL();this.initJF(function(){b.require(["mainpage-view"])})}},c=new b;c.init(),window.base=$("base").attr("href").split(location.origin)[1]}});